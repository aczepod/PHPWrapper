<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="generator" content="ApiGen 2.7.0" />

	<title>Class MyWrapper\Persistence\CPersistentObject | MyWrapper Reference Documentation</title>

	<script type="text/javascript" src="resources/combined.js?496895167"></script>
	<script type="text/javascript" src="elementlist.js?3191507714"></script>
	<link rel="stylesheet" type="text/css" media="all" href="resources/style.css?1567499433" />

</head>

<body>
<div id="left">
	<div id="menu">
		<a href="index.html" title="Overview"><span>Overview</span></a>


		<div id="groups">
			<h3>Namespaces</h3>
			<ul>
				<li class="active main"><a href="namespace-MyWrapper.html">MyWrapper<span></span></a>
						<ul>
				<li class="main"><a href="namespace-MyWrapper.Framework.html">Framework</a>
						</li>
				<li class="main"><a href="namespace-MyWrapper.Ontology.html">Ontology</a>
						</li>
				<li class="active main"><a href="namespace-MyWrapper.Persistence.html">Persistence</a>
						</li>
							</ul></li>
				<li><a href="namespace-None.html">None</a>
						</li>
				<li><a href="namespace-PHP.html">PHP</a>
						</li>
			</ul>
		</div>

		<hr />


		<div id="elements">
			<h3>Classes</h3>
			<ul>
				<li><a href="class-MyWrapper.Persistence.CMongoContainer.html">CMongoContainer</a></li>
				<li><a href="class-MyWrapper.Persistence.CMongoDatabase.html">CMongoDatabase</a></li>
				<li><a href="class-MyWrapper.Persistence.CMongoServer.html">CMongoServer</a></li>
				<li><a href="class-MyWrapper.Persistence.CPersistentDocument.html">CPersistentDocument</a></li>
				<li class="active"><a href="class-MyWrapper.Persistence.CPersistentObject.html">CPersistentObject</a></li>
			</ul>





		</div>
	</div>
</div>

<div id="splitter"></div>

<div id="right">
<div id="rightInner">
	<form id="search">
		<input type="hidden" name="cx" value="" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text" name="q" class="text" />
		<input type="submit" value="Search" />
	</form>

	<div id="navigation">
		<ul>
			<li>
				<a href="index.html" title="Overview"><span>Overview</span></a>
			</li>
			<li>
				<a href="namespace-MyWrapper.Persistence.html" title="Summary of MyWrapper\Persistence"><span>Namespace</span></a>
			</li>
			<li class="active">
<span>Class</span>			</li>
		</ul>
		<ul>
			<li>
				<a href="tree.html" title="Tree view of classes, interfaces, traits and exceptions"><span>Tree</span></a>
			</li>
		</ul>
		<ul>
		</ul>
	</div>

<div id="content" class="class">
	<h1>Class CPersistentObject</h1>


	<div class="description">
	
<h3>Persistent object ancestor</h3>

<p>This <i>abstract</i> class extends its <code><a href="class-MyWrapper.Persistence.CPersistentDocument.html">MyWrapper\Persistence\CPersistentDocument</a></code> ancestor
to handle predefined offsets and a specific identification workflow.</p>

<p>This class implements an identification interface that governs how objects
derived from this class are identified within their container.</p>

<p>The object is uniquely identified by a string, the <i>global unique
identifier</i>, this string is generally a combination of the object's
attributes and once set, it should not change. The string is determined by a
protected method, <code><a href="class-MyWrapper.Persistence.CPersistentObject.html#_">MyWrapper\Persistence\CPersistentObject::_index()</a></code>, and optionally set into a predefined offset,
kOFFSET_GID.</p>

<p>This value is used by a static method, <code><a href="class-MyWrapper.Persistence.CPersistentObject.html#_">MyWrapper\Persistence\CPersistentObject::_id()</a></code>, which processes or uses
that value as-is to set the object's <i>native unique identifier</i> in the
kOFFSET_NID offset. This static method can also be used to obtain the
primary key of an object, given the global identifier string. The method expects
the container to which the object is going to be committed as a parameter, to
use its custom data conversion methods and resolve eventual references.</p>

<p>These identifiers are locked by the <code><a href="class-MyWrapper.Persistence.CPersistentObject.html#_">MyWrapper\Persistence\CPersistentObject::_Preset()</a></code> and <code><a href="class-MyWrapper.Persistence.CPersistentObject.html#_">MyWrapper\Persistence\CPersistentObject::_Preunset()</a></code>
methods to prevent invalidating references.</p>

<p>Objects derived from this class store their class name in the kOFFSET_CLASS offset, this will be used by the static <code><a href="class-MyWrapper.Persistence.CPersistentObject.html#_">MyWrapper\Persistence\CPersistentObject::NewObject()</a></code>
method to instantiate the right object.</p>

<p>The class implements the above workflow by overloading the <code><a href="class-MyWrapper.Persistence.CPersistentObject.html#_">MyWrapper\Persistence\CPersistentObject::_Precommit()</a></code> method.</p>

<p>Finally, the class features member accessor methods for the default
offsets:</p>

<ul>
	<li><code><a href="class-MyWrapper.Persistence.CPersistentDocument.html#_">MyWrapper\Persistence\CPersistentDocument::NID()</a></code>: This method manages the native unique identifier, kOFFSET_NID.</li>

	<li><code><a href="class-MyWrapper.Persistence.CPersistentObject.html#_">MyWrapper\Persistence\CPersistentObject::GID()</a></code>: This method manages the global unique identifier, kOFFSET_GID.</li>

	<li>ClassName(): This method manages the object's class name, kOFFSET_CLASS.</li>
</ul>

	</div>

	<dl class="tree">
		<dd style="padding-left:0px">
			<a href="class-ArrayObject.html"><span>ArrayObject</span></a>
			
			 implements 
				<a href="class-IteratorAggregate.html"><span>IteratorAggregate</span></a>, 
			
				<a href="class-Traversable.html"><span>Traversable</span></a>, 
			
				<a href="class-ArrayAccess.html"><span>ArrayAccess</span></a>, 
			
				<a href="class-Serializable.html"><span>Serializable</span></a>, 
			
				<a href="class-Countable.html"><span>Countable</span></a>
			
			
		</dd>
		<dd style="padding-left:30px">
			<img src="resources/inherit.png" alt="Extended by" />
			<a href="class-MyWrapper.Framework.CDocument.html"><span>MyWrapper\Framework\CDocument</span></a>
			
			
			
		</dd>
		<dd style="padding-left:60px">
			<img src="resources/inherit.png" alt="Extended by" />
			<a href="class-MyWrapper.Framework.CStatusDocument.html"><span>MyWrapper\Framework\CStatusDocument</span></a>
			
			
			
		</dd>
		<dd style="padding-left:90px">
			<img src="resources/inherit.png" alt="Extended by" />
			<a href="class-MyWrapper.Persistence.CPersistentDocument.html"><span>MyWrapper\Persistence\CPersistentDocument</span></a>
			
			
			
		</dd>
		<dd style="padding-left:120px">
			<img src="resources/inherit.png" alt="Extended by" />
<b><span>MyWrapper\Persistence\CPersistentObject</span></b>			
			
			
		</dd>
	</dl>


	<div>
		<h4>Direct known subclasses</h4>
			<a href="class-MyWrapper.Framework.CEdge.html">MyWrapper\Framework\CEdge</a>, 
			<a href="class-MyWrapper.Framework.CNode.html">MyWrapper\Framework\CNode</a>, 
			<a href="class-MyWrapper.Framework.CTerm.html">MyWrapper\Framework\CTerm</a>
	</div>

	<div>
		<h4>Indirect known subclasses</h4>
			<a href="class-MyWrapper.Ontology.COntologyNode.html">MyWrapper\Ontology\COntologyNode</a>, 
			<a href="class-MyWrapper.Ontology.COntologyTerm.html">MyWrapper\Ontology\COntologyTerm</a>
	</div>





	<div class="info">
		
		
		<b>Namespace:</b> <a href="namespace-MyWrapper.html">MyWrapper</a>\<a href="namespace-MyWrapper.Persistence.html">Persistence</a><br />
		<b>Package:</b> MyWrapper\Persistence<br />

		<b>Located at</b> <a href="source-class-MyWrapper.Persistence.CPersistentObject.html#45" title="Go to source code">Persistence/CPersistentObject.php</a><br />
	</div>


	<table class="summary" id="methods">
	<caption>Methods summary</caption>
	<tr data-order="GID" id="_GID">

		<td class="attributes"><code>
			 public 
			mixed
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_GID">#</a>
		<code><a href="source-class-MyWrapper.Persistence.CPersistentObject.html#105" title="Go to source code">GID</a>( <span>mixed <var>$theValue</var> = <span class="php-keyword1">NULL</span></span>, <span>boolean <var>$getOld</var> = <span class="php-keyword1">FALSE</span> </span> )</code>

		<div class="description short">
			
<h4>Manage global unique identifier</h4>

		</div>

		<div class="description detailed hidden">
			
<h4>Manage global unique identifier</h4>

<p>The <i>global unique identifier</i>, kOFFSET_GID, holds a string
which represents the object's unique identifier, this value is hashed or used
as-is to serve as the native unique identifier, kOFFSET_NID. The global
identifier is usually a computed value extracted from a series of offsets of the
object.</p>

<p>The method accepts a parameter which represents either the identifier or the
requested operation, depending on its value:</p>

<ul>
	<li><tt>NULL</tt>: Return the current value.</li>

	<li><tt>FALSE</tt>: Delete the current value.</li>

	<li><i>other</i>: Set the value with the provided parameter.</li>
</ul>

<p>The second parameter is a boolean which if <tt>TRUE</tt> will return the
<i>old</i> value when replacing containers; if <tt>FALSE</tt>, it will return
the currently set value.</p>

<p>Note that when the object has the <code><a href="class-MyWrapper.Framework.CStatusDocument.html#_">MyWrapper\Framework\CStatusDocument::_IsCommitted()</a></code> status this offset
will be locked and an exception will be raised.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$theValue</var></dt>
					<dd><code>mixed</code><br> Native identifier or operation.</dd>
					<dt><var>$getOld</var></dt>
					<dd><code>boolean</code><br> <tt>TRUE</tt> get old value.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>mixed</code><br><i>New</i> or <i>old</i> native container.<br />
				</div>


				<h4>See</h4>
				<div class="list">
						kOFFSET_GID<br />
				</div>
				<h4>Uses</h4>
				<div class="list">
						<code><code><a href="function-ManageOffset.html">ManageOffset()</a></code></code> <br />
				</div>


		</div>
		</div></td>
	</tr>
	<tr data-order="CLassName" id="_CLassName">

		<td class="attributes"><code>
			 public 
			mixed
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_CLassName">#</a>
		<code><a href="source-class-MyWrapper.Persistence.CPersistentObject.html#150" title="Go to source code">CLassName</a>( <span>mixed <var>$theValue</var> = <span class="php-keyword1">NULL</span></span>, <span>boolean <var>$getOld</var> = <span class="php-keyword1">FALSE</span> </span> )</code>

		<div class="description short">
			
<h4>Manage global unique identifier</h4>

		</div>

		<div class="description detailed hidden">
			
<h4>Manage global unique identifier</h4>

<p>The <i>class name</i>, kOFFSET_CLASS, holds a string which is the
class name of the object that first stored the object in the container. This
value will be used by the static <code><a href="class-MyWrapper.Persistence.CPersistentObject.html#_">MyWrapper\Persistence\CPersistentObject::NewObject()</a></code> method to restore the
object from the container.</p>

<p>The method accepts a parameter which represents either the name or the
requested operation, depending on its value:</p>

<ul>
	<li><tt>NULL</tt>: Return the current value.</li>

	<li><tt>FALSE</tt>: Delete the current value.</li>

	<li><i>other</i>: Set the value with the provided parameter.</li>
</ul>

<p>The second parameter is a boolean which if <tt>TRUE</tt> will return the
<i>old</i> value when replacing containers; if <tt>FALSE</tt>, it will return
the currently set value.</p>

<p>Note that when the object has the <code><a href="class-MyWrapper.Framework.CStatusDocument.html#_">MyWrapper\Framework\CStatusDocument::_IsCommitted()</a></code> status this offset
will be locked and in many other classes this offset may not be writable.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$theValue</var></dt>
					<dd><code>mixed</code><br> Persistent container or operation.</dd>
					<dt><var>$getOld</var></dt>
					<dd><code>boolean</code><br> <tt>TRUE</tt> get old value.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>mixed</code><br><i>New</i> or <i>old</i> native container.<br />
				</div>


				<h4>See</h4>
				<div class="list">
						kOFFSET_CLASS<br />
				</div>
				<h4>Uses</h4>
				<div class="list">
						<code><code><a href="function-ManageOffset.html">ManageOffset()</a></code></code> <br />
				</div>


		</div>
		</div></td>
	</tr>
	<tr data-order="NewObject" id="_NewObject">

		<td class="attributes"><code>
			 public static
			mixed
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_NewObject">#</a>
		<code><a href="source-class-MyWrapper.Persistence.CPersistentObject.html#204" title="Go to source code">NewObject</a>( <span><code><a href="class-MyWrapper.Framework.CContainer.html">MyWrapper\Framework\CContainer</a></code> <var>$theContainer</var></span>, <span>mixed <var>$theIdentifier</var></span> )</code>

		<div class="description short">
			
<h4>Instantiate an object from a container</h4>

		</div>

		<div class="description detailed hidden">
			
<h4>Instantiate an object from a container</h4>

<p>We override this method to handle the kOFFSET_CLASS offset: if found
in the retrieved object, it will be used to instantiate the correct class. If
the offset is missing, the method will instantiate this class.</p>

<p>The method expects two parameters:</p>

<ul>
	<li><tt>$theContainer</tt>: A concrete instance of the <code><a href="class-MyWrapper.Framework.CContainer.html">MyWrapper\Framework\CContainer</a></code>
	class.</li>

	<li><tt>$theIdentifier</tt>: The key of the object in the container, by default
	the kOFFSET_NID offset.</li>
</ul>

<p>If the object could not be located, the method will return <tt>NULL</tt>.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$theContainer</var></dt>
					<dd><code><code><a href="class-MyWrapper.Framework.CContainer.html">MyWrapper\Framework\CContainer</a></code></code><br> Container.</dd>
					<dt><var>$theIdentifier</var></dt>
					<dd><code>mixed</code><br> Identifier.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>mixed</code><br>The retrieved object.<br />
				</div>



				<h4>Overrides</h4>
				<div class="list"><code><a href="class-MyWrapper.Persistence.CPersistentDocument.html#_">MyWrapper\Persistence\CPersistentDocument::NewObject</a></code></div>

		</div>
		</div></td>
	</tr>
	<tr data-order="_id" id="__id">

		<td class="attributes"><code>
			 public static
			mixed
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#__id">#</a>
		<code><a href="source-class-MyWrapper.Persistence.CPersistentObject.html#291" title="Go to source code">_id</a>( <span>string <var>$theIdentifier</var> = <span class="php-keyword1">NULL</span></span>, <span><code><a href="class-MyWrapper.Framework.CContainer.html">MyWrapper\Framework\CContainer</a></code> <var>$theContainer</var> = <span class="php-keyword1">NULL</span> </span> )</code>

		<div class="description short">
			
<h4>Generate the object's native unique identifier</h4>

		</div>

		<div class="description detailed hidden">
			
<h4>Generate the object's native unique identifier</h4>

<p>This method is used to generate the object's <i>native unique identifier</i>
from the string representing the object's <i>global unique identifier</i>.</p>

<p>The method expects a string as input and should either return it as-is, or
hash it. This method will be used to set the kOFFSET_NID offset which
represents the primary key of the object and can be used to generate a primary
key given the global unique identifier of the object. The second parameter to
this method is the container that will receive the object, this can be useful if
it provides custom data conversion methods.</p>

<p>Note that if the provided value is <tt>NULL</tt>, this means that it is the
duty of the container to set the object's primary key, in this case this method
cannot be used to generate a native identifier, since the object does not have a
global identifier.</p>

<p>In this class we use the global identifier as-is.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$theIdentifier</var></dt>
					<dd><code>string</code><br> Global unique identifier.</dd>
					<dt><var>$theContainer</var></dt>
					<dd><code><code><a href="class-MyWrapper.Framework.CContainer.html">MyWrapper\Framework\CContainer</a></code></code><br> Container.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>mixed</code><br>The object's native unique identifier.<br />
				</div>


				<h4>Used by</h4>
				<div class="list">
						<code><code><a href="class-MyWrapper.Persistence.CPersistentObject.html#_">MyWrapper\Persistence\CPersistentObject::_Precommit()</a></code></code> <br />
				</div>


		</div>
		</div></td>
	</tr>
	<tr data-order="_index" id="__index">

		<td class="attributes"><code>
			 protected 
			string|null
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#__index">#</a>
		<code><a href="source-class-MyWrapper.Persistence.CPersistentObject.html#337" title="Go to source code">_index</a>( <span><code><a href="class-MyWrapper.Framework.CContainer.html">MyWrapper\Framework\CContainer</a></code> <var>$theContainer</var></span>, <span>bitfield <var>$theModifiers</var></span> )</code>

		<div class="description short">
			
<h4>Return the object's global unique identifier</h4>

		</div>

		<div class="description detailed hidden">
			
<h4>Return the object's global unique identifier</h4>

<p>This method should return the object's global unique identifier, this value
is represented by a string which is generally extracted from selected attributes
of the object and represents the unique key of the object.</p>

<p>This string is stored in the kOFFSET_GID offset of the object and it
is processed by the static <code><a href="class-MyWrapper.Persistence.CPersistentObject.html#_">MyWrapper\Persistence\CPersistentObject::_id()</a></code> method resulting in the object's native
unique identifier, which is the native object's primary key stored in the kOFFSET_NID offset.</p>

<p>This method can return a meaningful value only if the object has all required
properties, so, if the class features a global identifier, this method should
first check is the object is <code><a href="class-MyWrapper.Framework.CStatusDocument.html#_">MyWrapper\Framework\CStatusDocument::_IsInited()</a></code>, if that is not the case it
should raise an exception.</p>

<p>If this method returns <tt>NULL</tt>, it means that the native unique
identifier is generated by the container that will store the object, in that
case the kOFFSET_GID will not be used.</p>

<p>This method is called at commit time, for this reason and to eventually
resolve referenced objects, the method accepts the commit container and
options.</p>

<p>This class has no predefined attributes, so we let the container provide the
identifier by returning <tt>NULL</tt>.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$theContainer</var></dt>
					<dd><code><code><a href="class-MyWrapper.Framework.CContainer.html">MyWrapper\Framework\CContainer</a></code></code><br> Container.</dd>
					<dt><var>$theModifiers</var></dt>
					<dd><code>bitfield</code><br> Commit options.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>string|null</code><br>The object's global unique identifier.<br />
				</div>


				<h4>Uses</h4>
				<div class="list">
						<code><code><a href="class-MyWrapper.Persistence.CPersistentObject.html#_">MyWrapper\Persistence\CPersistentObject::_index()</a></code></code> <br />
				</div>
				<h4>Used by</h4>
				<div class="list">
						<code><code><a href="class-MyWrapper.Persistence.CPersistentObject.html#_">MyWrapper\Persistence\CPersistentObject::_index()</a></code></code> <br />
						<code><code><a href="class-MyWrapper.Persistence.CPersistentObject.html#_">MyWrapper\Persistence\CPersistentObject::_Precommit()</a></code></code> <br />
				</div>


		</div>
		</div></td>
	</tr>
	<tr data-order="_Preset" id="__Preset">

		<td class="attributes"><code>
			 protected 
			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#__Preset">#</a>
		<code><a href="source-class-MyWrapper.Persistence.CPersistentObject.html#392" title="Go to source code">_Preset</a>( <span>reference <var>&amp; $theOffset</var></span>, <span>reference <var>&amp; $theValue</var></span> )</code>

		<div class="description short">
			
<h4>Handle offset before setting it</h4>

		</div>

		<div class="description detailed hidden">
			
<h4>Handle offset before setting it</h4>

<p>In this class we prevent the modification of offsets that concur in the
generation of the object's identifier if the object has its <code><a href="class-MyWrapper.Framework.CStatusDocument.html#_">MyWrapper\Framework\CStatusDocument::_IsCommitted()</a></code> status set. This is because referenced objects must not change
identifier.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$theOffset</var></dt>
					<dd><code>reference</code><br>&amp;$theOffset Offset.</dd>
					<dt><var>$theValue</var></dt>
					<dd><code>reference</code><br>&amp;$theValue Value to set at offset.</dd>
				</dl></div>


				<h4>Throws</h4>
				<div class="list">
					<code><code><a href="class-Exception.html">Exception</a></code></code><br />
				</div>

				<h4>See</h4>
				<div class="list">
						kOFFSET_NID kOFFSET_GID kOFFSET_UID<br />
				</div>
				<h4>Uses</h4>
				<div class="list">
						<code><code><a href="class-MyWrapper.Framework.CStatusDocument.html#_">MyWrapper\Framework\CStatusDocument::_IsCommitted()</a></code></code> <br />
				</div>

				<h4>Overrides</h4>
				<div class="list"><code><a href="class-MyWrapper.Framework.CStatusDocument.html#_">MyWrapper\Framework\CStatusDocument::_Preset</a></code></div>

		</div>
		</div></td>
	</tr>
	<tr data-order="_Preunset" id="__Preunset">

		<td class="attributes"><code>
			 protected 
			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#__Preunset">#</a>
		<code><a href="source-class-MyWrapper.Persistence.CPersistentObject.html#434" title="Go to source code">_Preunset</a>( <span>reference <var>&amp; $theOffset</var></span> )</code>

		<div class="description short">
			
<h4>Handle offset before unsetting it</h4>

		</div>

		<div class="description detailed hidden">
			
<h4>Handle offset before unsetting it</h4>

<p>In this class we prevent the modification of offsets that concur in the
generation of the object's identifier if the object has its <code><a href="class-MyWrapper.Framework.CStatusDocument.html#_">MyWrapper\Framework\CStatusDocument::_IsCommitted()</a></code> status set. This is because referenced objects must not change
identifier.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$theOffset</var></dt>
					<dd><code>reference</code><br>&amp;$theOffset Offset.</dd>
				</dl></div>


				<h4>Throws</h4>
				<div class="list">
					<code><code><a href="class-Exception.html">Exception</a></code></code><br />
				</div>

				<h4>See</h4>
				<div class="list">
						kOFFSET_NID kOFFSET_GID kOFFSET_UID<br />
				</div>
				<h4>Uses</h4>
				<div class="list">
						<code><code><a href="class-MyWrapper.Framework.CStatusDocument.html#_">MyWrapper\Framework\CStatusDocument::_IsCommitted()</a></code></code> <br />
				</div>

				<h4>Overrides</h4>
				<div class="list"><code><a href="class-MyWrapper.Framework.CStatusDocument.html#_">MyWrapper\Framework\CStatusDocument::_Preunset</a></code></div>

		</div>
		</div></td>
	</tr>
	<tr data-order="_Precommit" id="__Precommit">

		<td class="attributes"><code>
			 protected 
			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#__Precommit">#</a>
		<code><a href="source-class-MyWrapper.Persistence.CPersistentObject.html#484" title="Go to source code">_Precommit</a>( <span><code><a href="class-MyWrapper.Framework.CContainer.html">MyWrapper\Framework\CContainer</a></code> <var>$theContainer</var></span>, <span>bitfield <var>$theModifiers</var> = kFLAG_DEFAULT </span> )</code>

		<div class="description short">
			
<h4>Prepare the object before committing</h4>

		</div>

		<div class="description detailed hidden">
			
<h4>Prepare the object before committing</h4>

<p>In this class we overload this method to set the following properties:</p>

<ul>
	<li><code><a href="class-MyWrapper.Framework.CStatusDocument.html#_">MyWrapper\Framework\CStatusDocument::_IsInited()</a></code>: We check whether the object was initialised, if that is
	not the case, the method will raise an exception.</li>

	<li>kOFFSET_NID: If missing and if the result of the <code><a href="class-MyWrapper.Persistence.CPersistentObject.html#_">MyWrapper\Persistence\CPersistentObject::_index()</a></code>
	method is not <tt>NULL</tt>, we set the native unique identifier by feeding the
	string returned by <code><a href="class-MyWrapper.Persistence.CPersistentObject.html#_">MyWrapper\Persistence\CPersistentObject::_index()</a></code> into the <code><a href="class-MyWrapper.Persistence.CPersistentObject.html#_">MyWrapper\Persistence\CPersistentObject::_id()</a></code> method.</li>

	<li>kOFFSET_GID: If missing and if the result of the <code><a href="class-MyWrapper.Persistence.CPersistentObject.html#_">MyWrapper\Persistence\CPersistentObject::_index()</a></code>
	method is not <tt>NULL</tt>, we set the global unique identifier with the result
	of <code><a href="class-MyWrapper.Persistence.CPersistentObject.html#_">MyWrapper\Persistence\CPersistentObject::_index()</a></code>.</li>

	<li>kOFFSET_CLASS: If missing, we set this offset to the current class
	name. Note that we do not set the class automatically, as a superclass may
	instantiate safely a subclass.</li>
</ul>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$theContainer</var></dt>
					<dd><code><code><a href="class-MyWrapper.Framework.CContainer.html">MyWrapper\Framework\CContainer</a></code></code><br> Container.</dd>
					<dt><var>$theModifiers</var></dt>
					<dd><code>bitfield</code><br> Commit options.</dd>
				</dl></div>


				<h4>Throws</h4>
				<div class="list">
					<code><code><a href="class-Exception.html">Exception</a></code></code><br />
				</div>

				<h4>See</h4>
				<div class="list">
						kOFFSET_NID kOFFSET_GID kOFFSET_CLASS<br />
				</div>
				<h4>Uses</h4>
				<div class="list">
						<code><code><a href="class-MyWrapper.Persistence.CPersistentObject.html#_">MyWrapper\Persistence\CPersistentObject::_id()</a></code></code> <br />
						<code><code><a href="class-MyWrapper.Persistence.CPersistentObject.html#_">MyWrapper\Persistence\CPersistentObject::_index()</a></code></code> <br />
				</div>

				<h4>Overrides</h4>
				<div class="list"><code><a href="class-MyWrapper.Persistence.CPersistentDocument.html#_">MyWrapper\Persistence\CPersistentDocument::_Precommit</a></code></div>

		</div>
		</div></td>
	</tr>
	<tr data-order="_AssertObjectIdentifier" id="__AssertObjectIdentifier">

		<td class="attributes"><code>
			 protected static
			boolean
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#__AssertObjectIdentifier">#</a>
		<code><a href="source-class-MyWrapper.Persistence.CPersistentObject.html#579" title="Go to source code">_AssertObjectIdentifier</a>( <span>reference <var>&amp; $theValue</var></span>, <span>string <var>$theClass</var></span>, <span>boolean <var>$doThrow</var></span> )</code>

		<div class="description short">
			
<h4>Extract object identifier</h4>

		</div>

		<div class="description detailed hidden">
			
<h4>Extract object identifier</h4>

<p>This method can be used to extract the native unique identifier, kOFFSET_NID, from a provided parameter and check that if the parameter is a
derived instance of this class, it corresponds to a specific class.</p>

<p>The method features three parameters:</p>

<ul>
	<li><tt>&amp;$theValue</tt>: This parameter holds the value to be checked and
	will return the eventual identifier.</li>

	<li><tt>$theClass</tt>: This string parameter holds the specific class name to
	be checked, if <tt>NULL</tt>, we assume any class derived from this one.</li>

	<li><tt>$doThrow</tt>: If <tt>TRUE</tt>, the method will raise an exception if
	the parameter is not of the correct class; if <tt>FALSE</tt>, the method will
	return <tt>FALSE</tt>.</li>
</ul>

<p>This method is only able to check objects derived from this class, since
identifiers can take any value, so it will operate only if the provided value is
a subclass of this one.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$theValue</var></dt>
					<dd><code>reference</code><br>&amp;$theValue Object reference.</dd>
					<dt><var>$theClass</var></dt>
					<dd><code>string</code><br> The specific class name.</dd>
					<dt><var>$doThrow</var></dt>
					<dd><code>boolean</code><br> If <tt>TRUE</tt> throw exceptions.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>boolean</code><br />
				</div>

				<h4>Throws</h4>
				<div class="list">
					<code><code><a href="class-Exception.html">Exception</a></code></code><br />
				</div>



		</div>
		</div></td>
	</tr>
	</table>

	<table class="summary inherited">
	<caption>Methods inherited from <a href="class-MyWrapper.Persistence.CPersistentDocument.html#methods">MyWrapper\Persistence\CPersistentDocument</a></caption>
	<tr>
		<td><code>
			<a href="class-MyWrapper.Persistence.CPersistentDocument.html#_">Delete()</a>, 
			<a href="class-MyWrapper.Persistence.CPersistentDocument.html#_">Insert()</a>, 
			<a href="class-MyWrapper.Persistence.CPersistentDocument.html#_">NID()</a>, 
			<a href="class-MyWrapper.Persistence.CPersistentDocument.html#_">Replace()</a>, 
			<a href="class-MyWrapper.Persistence.CPersistentDocument.html#_">Restore()</a>, 
			<a href="class-MyWrapper.Persistence.CPersistentDocument.html#_">Update()</a>, 
			<a href="class-MyWrapper.Persistence.CPersistentDocument.html#_">_Postcommit()</a>, 
			<a href="class-MyWrapper.Persistence.CPersistentDocument.html#_">_Postset()</a>, 
			<a href="class-MyWrapper.Persistence.CPersistentDocument.html#_">_Postunset()</a>, 
			<a href="class-MyWrapper.Persistence.CPersistentDocument.html#_">_Ready()</a>, 
			<a href="class-MyWrapper.Persistence.CPersistentDocument.html#_">__construct()</a>
		</code></td>
	</tr>
	</table>
	<table class="summary inherited">
	<caption>Methods inherited from <a href="class-MyWrapper.Framework.CStatusDocument.html#methods">MyWrapper\Framework\CStatusDocument</a></caption>
	<tr>
		<td><code>
			<a href="class-MyWrapper.Framework.CStatusDocument.html#_">_IsCommitted()</a>, 
			<a href="class-MyWrapper.Framework.CStatusDocument.html#_">_IsDirty()</a>, 
			<a href="class-MyWrapper.Framework.CStatusDocument.html#_">_IsEncoded()</a>, 
			<a href="class-MyWrapper.Framework.CStatusDocument.html#_">_IsInited()</a>, 
			<a href="class-MyWrapper.Framework.CStatusDocument.html#_">offsetSet()</a>, 
			<a href="class-MyWrapper.Framework.CStatusDocument.html#_">offsetUnset()</a>
		</code></td>
	</tr>
	</table>
	<table class="summary inherited">
	<caption>Methods inherited from <a href="class-MyWrapper.Framework.CDocument.html#methods">MyWrapper\Framework\CDocument</a></caption>
	<tr>
		<td><code>
			<a href="class-MyWrapper.Framework.CDocument.html#_">array_keys()</a>, 
			<a href="class-MyWrapper.Framework.CDocument.html#_">array_values()</a>, 
			<a href="class-MyWrapper.Framework.CDocument.html#_">offsetGet()</a>
		</code></td>
	</tr>
	</table>
	<table class="summary inherited">
	<caption>Methods inherited from <a href="class-ArrayObject.html#methods">ArrayObject</a></caption>
	<tr>
		<td><code>
			<a href="class-ArrayObject.html#_">append()</a>, 
			<a href="class-ArrayObject.html#_">asort()</a>, 
			<a href="class-ArrayObject.html#_">count()</a>, 
			<a href="class-ArrayObject.html#_">exchangeArray()</a>, 
			<a href="class-ArrayObject.html#_">getArrayCopy()</a>, 
			<a href="class-ArrayObject.html#_">getFlags()</a>, 
			<a href="class-ArrayObject.html#_">getIterator()</a>, 
			<a href="class-ArrayObject.html#_">getIteratorClass()</a>, 
			<a href="class-ArrayObject.html#_">ksort()</a>, 
			<a href="class-ArrayObject.html#_">natcasesort()</a>, 
			<a href="class-ArrayObject.html#_">natsort()</a>, 
			<a href="class-ArrayObject.html#_">offsetExists()</a>, 
			<a href="class-ArrayObject.html#_">serialize()</a>, 
			<a href="class-ArrayObject.html#_">setFlags()</a>, 
			<a href="class-ArrayObject.html#_">setIteratorClass()</a>, 
			<a href="class-ArrayObject.html#_">uasort()</a>, 
			<a href="class-ArrayObject.html#_">uksort()</a>, 
			<a href="class-ArrayObject.html#_">unserialize()</a>
		</code></td>
	</tr>
	</table>




	<table class="summary inherited">
	<caption>Constants inherited from <a href="class-ArrayObject.html#constants">ArrayObject</a></caption>
	<tr>
		<td><code>
			<a href="class-ArrayObject.html#ARRAY_AS_PROPS"><b>ARRAY_AS_PROPS</b></a>, 
			<a href="class-ArrayObject.html#STD_PROP_LIST"><b>STD_PROP_LIST</b></a>
		</code></td>
	</tr>
	</table>



	<table class="summary inherited">
	<caption>Properties inherited from <a href="class-MyWrapper.Framework.CStatusDocument.html#properties">MyWrapper\Framework\CStatusDocument</a></caption>
	<tr>
		<td><code>
			<a href="class-MyWrapper.Framework.CStatusDocument.html#$mStatus"><var>$mStatus</var></a>
		</code></td>
	</tr>
	</table>


</div>

	<div id="footer">
		MyWrapper Reference Documentation API documentation generated by <a href="http://apigen.org">ApiGen 2.7.0</a>
	</div>
</div>
</div>
</body>
</html>
