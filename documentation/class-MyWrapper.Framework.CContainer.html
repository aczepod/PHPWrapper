<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="generator" content="ApiGen 2.7.0" />

	<title>Class MyWrapper\Framework\CContainer | MyWrapper Reference Documentation</title>

	<script type="text/javascript" src="resources/combined.js?496895167"></script>
	<script type="text/javascript" src="elementlist.js?3375725984"></script>
	<link rel="stylesheet" type="text/css" media="all" href="resources/style.css?1567499433" />

</head>

<body>
<div id="left">
	<div id="menu">
		<a href="index.html" title="Overview"><span>Overview</span></a>


		<div id="groups">
			<h3>Namespaces</h3>
			<ul>
				<li class="active main"><a href="namespace-MyWrapper.html">MyWrapper<span></span></a>
						<ul>
				<li class="active main"><a href="namespace-MyWrapper.Framework.html">Framework</a>
						</li>
				<li class="main"><a href="namespace-MyWrapper.Persistence.html">Persistence</a>
						</li>
							</ul></li>
				<li><a href="namespace-None.html">None</a>
						</li>
				<li><a href="namespace-PHP.html">PHP</a>
						</li>
			</ul>
		</div>

		<hr />


		<div id="elements">
			<h3>Classes</h3>
			<ul>
				<li class="active"><a href="class-MyWrapper.Framework.CContainer.html">CContainer</a></li>
				<li><a href="class-MyWrapper.Framework.CDocument.html">CDocument</a></li>
				<li><a href="class-MyWrapper.Framework.CStatusDocument.html">CStatusDocument</a></li>
			</ul>





		</div>
	</div>
</div>

<div id="splitter"></div>

<div id="right">
<div id="rightInner">
	<form id="search">
		<input type="hidden" name="cx" value="" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text" name="q" class="text" />
		<input type="submit" value="Search" />
	</form>

	<div id="navigation">
		<ul>
			<li>
				<a href="index.html" title="Overview"><span>Overview</span></a>
			</li>
			<li>
				<a href="namespace-MyWrapper.Framework.html" title="Summary of MyWrapper\Framework"><span>Namespace</span></a>
			</li>
			<li class="active">
<span>Class</span>			</li>
		</ul>
		<ul>
			<li>
				<a href="tree.html" title="Tree view of classes, interfaces, traits and exceptions"><span>Tree</span></a>
			</li>
		</ul>
		<ul>
		</ul>
	</div>

<div id="content" class="class">
	<h1>Class CContainer</h1>


	<div class="description">
	
<h3>Persistent objects data store ancestor</h3>

<p>This <i>abstract</i> class is the ancestor of all container classes in this
library, it implements the interface and workflow that all concrete derived
classes should implement.</p>

<p>The public interface declares the following main operations:</p>

<ul>
	<li>SetObject(): This method will <i>insert</i>, <i>update</i>,
	<i>modify</i> or <i>delete</i> objects from the current container. This method
	operates one object at the time and it is mainly used by persistent objects for
	persisting in containers.</li>

	<li><i>GetObject()</i>: This method will <i>load</i> an object from the
	current container.</li>
</ul>

<p>The class does not implement a concrete data store, derived classes must
implement specific storage actions.</p>

<p>The class inherits from <code><a href="class-MyWrapper.Framework.CStatusDocument.html">MyWrapper\Framework\CStatusDocument</a></code> in order to manage its own
status and the one of the provided persistent objects.</p>

	</div>

	<dl class="tree">
		<dd style="padding-left:0px">
			<a href="class-ArrayObject.html"><span>ArrayObject</span></a>
			
			 implements 
				<a href="class-IteratorAggregate.html"><span>IteratorAggregate</span></a>, 
			
				<a href="class-Traversable.html"><span>Traversable</span></a>, 
			
				<a href="class-ArrayAccess.html"><span>ArrayAccess</span></a>, 
			
				<a href="class-Serializable.html"><span>Serializable</span></a>, 
			
				<a href="class-Countable.html"><span>Countable</span></a>
			
			
		</dd>
		<dd style="padding-left:30px">
			<img src="resources/inherit.png" alt="Extended by" />
			<a href="class-MyWrapper.Framework.CDocument.html"><span>MyWrapper\Framework\CDocument</span></a>
			
			
			
		</dd>
		<dd style="padding-left:60px">
			<img src="resources/inherit.png" alt="Extended by" />
			<a href="class-MyWrapper.Framework.CStatusDocument.html"><span>MyWrapper\Framework\CStatusDocument</span></a>
			
			
			
		</dd>
		<dd style="padding-left:90px">
			<img src="resources/inherit.png" alt="Extended by" />
<b><span>MyWrapper\Framework\CContainer</span></b>			
			
			
		</dd>
	</dl>


	<div>
		<h4>Direct known subclasses</h4>
			<a href="class-MyWrapper.Persistence.CMongoContainer.html">MyWrapper\Persistence\CMongoContainer</a>
	</div>






	<div class="info">
		<b>Abstract</b><br />
		
		<b>Namespace:</b> <a href="namespace-MyWrapper.html">MyWrapper</a>\<a href="namespace-MyWrapper.Framework.html">Framework</a><br />
		<b>Package:</b> MyWrapper\Framework<br />

		<b>Located at</b> <a href="source-class-MyWrapper.Framework.CContainer.html#36" title="Go to source code">Framework/CContainer.php</a><br />
	</div>


	<table class="summary" id="methods">
	<caption>Methods summary</caption>
	<tr data-order="__construct" id="___construct">

		<td class="attributes"><code>
			 public 
			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#___construct">#</a>
		<code><a href="source-class-MyWrapper.Framework.CContainer.html#86" title="Go to source code">__construct</a>( <span>mixed <var>$theContainer</var> = <span class="php-keyword1">NULL</span> </span> )</code>

		<div class="description short">
			
<h4>Instantiate class</h4>

		</div>

		<div class="description detailed hidden">
			
<h4>Instantiate class</h4>

<p>You instantiate the class with a native data store, the method expects a
single parameter that will be handled specifically by specialised derived
classes.</p>

<p>Derived classes should overload this method if a default value is possible;
to check for specific container types they should rather overload the member
accessor method.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$theContainer</var></dt>
					<dd><code>mixed</code><br> Native object store.</dd>
				</dl></div>



				<h4>Uses</h4>
				<div class="list">
						<code><code><a href="class-MyWrapper.Framework.CContainer.html#_">MyWrapper\Framework\CContainer::Container()</a></code></code> <br />
				</div>

				<h4>Overrides</h4>
				<div class="list"><code><a href="class-ArrayObject.html#_">ArrayObject::__construct</a></code></div>

		</div>
		</div></td>
	</tr>
	<tr data-order="__toString" id="___toString">

		<td class="attributes"><code>
			abstract public 
			string
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#___toString">#</a>
		<code><a href="source-class-MyWrapper.Framework.CContainer.html#116" title="Go to source code">__toString</a>( )</code>

		<div class="description short">
			
<h4>Return container name</h4>

		</div>

		<div class="description detailed hidden">
			
<h4>Return container name</h4>

<p>This method should return the current container's name.</p>

<p>All derived concrete classes should implement this method, all containers
must be able to return a name.</p>




				<h4>Returns</h4>
				<div class="list">
					<code>string</code><br>The container name.<br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="Container" id="_Container">

		<td class="attributes"><code>
			 public 
			mixed
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_Container">#</a>
		<code><a href="source-class-MyWrapper.Framework.CContainer.html#143" title="Go to source code">Container</a>( <span>mixed <var>$theValue</var> = <span class="php-keyword1">NULL</span></span>, <span>boolean <var>$getOld</var> = <span class="php-keyword1">FALSE</span> </span> )</code>

		<div class="description short">
			
<h4>Manage persistent container</h4>

		</div>

		<div class="description detailed hidden">
			
<h4>Manage persistent container</h4>

<p>This method can be used to manage the persistent container, it accepts a
single parameter which represents either the container or the requested
operation, depending on its value:</p>

<ul>
	<li><tt>NULL</tt>: Return the current value.</li>

	<li><tt>FALSE</tt>: Delete the current value.</li>

	<li><tt>other</tt>: Set the value with the provided parameter.</li>
</ul>

<p>The second parameter is a boolean which if <tt>TRUE</tt> will return the
<i>old</i> value when replacing containers; if <tt>FALSE</tt>, it will return
the currently set value.</p>

<p>In derived classes you should overload this method to check if the provided
container is of the correct type, in this class we accept anything.</p>

<p>This class is considered initialised (<code><a href="class-MyWrapper.Framework.CStatusDocument.html#_">MyWrapper\Framework\CStatusDocument::_IsInited()</a></code>) when this member
has been set.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$theValue</var></dt>
					<dd><code>mixed</code><br> Persistent container or operation.</dd>
					<dt><var>$getOld</var></dt>
					<dd><code>boolean</code><br> <tt>TRUE</tt> get old value.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>mixed</code><br><i>New</i> or <i>old</i> native container.<br />
				</div>


				<h4>Uses</h4>
				<div class="list">
						<code><code><a href="function-ManageProperty.html">ManageProperty()</a></code></code> <br />
				</div>
				<h4>Used by</h4>
				<div class="list">
						<code><code><a href="class-MyWrapper.Framework.CContainer.html#_">MyWrapper\Framework\CContainer::__construct()</a></code></code> <br />
				</div>


		</div>
		</div></td>
	</tr>
	<tr data-order="ManageObject" id="_ManageObject">

		<td class="attributes"><code>
			 public 
			mixed
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_ManageObject">#</a>
		<code><a href="source-class-MyWrapper.Framework.CContainer.html#205" title="Go to source code">ManageObject</a>( <span>reference <var>&amp; $theObject</var></span>, <span>mixed <var>$theIdentifier</var> = <span class="php-keyword1">NULL</span></span>, <span>bitfield <var>$theModifiers</var> = kFLAG_PERSIST_REPLACE </span> )</code>

		<div class="description short">
			
<h4>Manage an object from the container</h4>

		</div>

		<div class="description detailed hidden">
			
<h4>Manage an object from the container</h4>

<p>This method can be used to manage a single object in the container, it can
<i>insert</i>, <i>update</i>, <i>replace</i>, <i>modify</i>, <i>retrieve</i> and
<i>delete</i> an object from the current container by providing the object
and/or its local unique identifier (kTAG_LID).</p>

<p>This method expects three parameters:</p>

<ul>
	<li><tt>$theObject</tt>: The object to be committed or the data to be
	modified.</li>

	<li><tt>$theIdentifier</tt>: The identifier of the object to be committed or the
	query of the objects to be modified. If the value is <i>NULL</i>, it means that
	it is the duty of the current container to set the value, this will generally be
	the case when inserting objects; in all other cases the parameter is
	required.</li>

	<li><tt>$theModifiers</tt>: This parameter represents the commit operation
	options, it is a bitfield where the following values apply:
		<ul>
			<li>kFLAG_PERSIST_INSERT: The provided object will be inserted in the
			container. It is assumed that no other element in the container shares the same
			identifier, if not, the method should raise an exception. In this case the
			<tt>$theObject</tt> represents the full object and <tt>$theIdentifier</tt>
			represents the object unique identifier, or <tt>NULL</tt>, if it is the duty of
			the container to create the identifier. If the identifier was created by the
			container, it is the duty of this method to set it into the provided object. In
			this case the method should return the inserted object's native identifier
			(kTAG_LID).</li>

			<li>kFLAG_PERSIST_UPDATE: The provided object will replace an object
			existing in the container. In this case the method expects the container to have
			an entry with the same key as the provided identifier, if this is not the case
			the method should raise an exception. In this case the <tt>$theObject</tt>
			represents the full object and <tt>$theIdentifier</tt> represents the object
			unique identifier. In this case the method should return <tt>TRUE</tt> if the
			object was updated and <tt>FALSE</tt> if the object was not found.</li>

			<li>kFLAG_PERSIST_REPLACE: The provided object will be inserted if the
			identifier is missing or it doesn't match any entry in the container, or it will
			update the object corresponding to the provided identifier. This option
			represents the combination of the kFLAG_PERSIST_INSERT and kFLAG_PERSIST_UPDATE operations. In this case the <tt>$theObject</tt>
			represents the full object and <tt>$theIdentifier</tt> represents the object
			unique identifier, or <tt>NULL</tt>, if it is the duty of the container to
			create the identifier. If the identifier was created by the container, it is the
			duty of this method to set it into the provided object. In this case the method
			should return the inserted object's native identifier (kTAG_LID).</li>

			<li>kFLAG_PERSIST_MODIFY: This option can be used to apply modifications
			to a subset of the object. In this case, <tt>$theObject</tt> should contain the
			modification <i>criteria</i> and <tt>$theIdentifier</tt> should contain the
			object's unique identifier, if the object cannot be located in the container,
			the method should not fail. In this case the method should return the modified
			object if the object was found and <tt>NULL</tt> if the object was not
			found.</li>

			<li>kFLAG_PERSIST_DELETE: This option assumes you want to remove the
			object from the container. In this case the <tt>$theObject</tt> represents the
			full object and <tt>$theIdentifier</tt> represents the object unique identifier,
			what counts is that the object's unique identifier (kTAG_LID) is
			provided. If the object is not found in the container, the method should not
			fail. In this case the method should return <tt>TRUE</tt> if the object was
			deleted and <tt>FALSE</tt> if the object was not found.</li>
		</ul>
		 If none of the above flags are set, it means that the caller wants to retrieve
		the object identified by the kTAG_LID offset in either the provided
		object or in the provided identifier. If found, the provided object will be
		replaced by the retrieved element and the method wull return <tt>TRUE</tt>; if
		not found, the method will simply return <tt>FALSE</tt>.</li>
</ul>

<p>The method should raise an exception if the operation was not successful and
update the provided object with whatever data the operation will generate.</p>

<p>The method will also raise an exception if the object is not yet initialised
(<code><a href="class-MyWrapper.Framework.CStatusDocument.html#_">MyWrapper\Framework\CStatusDocument::_IsInited()</a></code>), this happens when the object received the native
container.</p>

<p>This class is abstract, which means that derived classes must implement the
specific functionality of specialised data stores, for this reason this method
will only check if the current object is inited.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$theObject</var></dt>
					<dd><code>reference</code><br>&amp;$theObject Object.</dd>
					<dt><var>$theIdentifier</var></dt>
					<dd><code>mixed</code><br> Identifier.</dd>
					<dt><var>$theModifiers</var></dt>
					<dd><code>bitfield</code><br> Options.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>mixed</code><br>The native operation status.<br />
				</div>


				<h4>See</h4>
				<div class="list">
						kFLAG_PERSIST_INSERT kFLAG_PERSIST_UPDATE kFLAG_PERSIST_MODIFY<br />
						kFLAG_PERSIST_REPLACE kFLAG_PERSIST_MODIFY kFLAG_PERSIST_DELETE<br />
				</div>


		</div>
		</div></td>
	</tr>
	<tr data-order="_Container" id="__Container">

		<td class="attributes"><code>
			 protected 
			mixed
			&amp;
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#__Container">#</a>
		<code><a href="source-class-MyWrapper.Framework.CContainer.html#327" title="Go to source code">_Container</a>( )</code>

		<div class="description short">
			
<h4>Get container reference</h4>

		</div>

		<div class="description detailed hidden">
			
<h4>Get container reference</h4>

<p>This method can be used to retrieve a reference to the native container
member, this can be useful when the native <code><a href="class-MyWrapper.Framework.CContainer.html#_">MyWrapper\Framework\CContainer::Container()</a></code> is not an object
passed by reference.</p>




				<h4>Returns</h4>
				<div class="list">
					<code>mixed</code><br />
				</div>




		</div>
		</div></td>
	</tr>
	</table>

	<table class="summary inherited">
	<caption>Methods inherited from <a href="class-MyWrapper.Framework.CStatusDocument.html#methods">MyWrapper\Framework\CStatusDocument</a></caption>
	<tr>
		<td><code>
			<a href="class-MyWrapper.Framework.CStatusDocument.html#_">ManageBitField()</a>, 
			<a href="class-MyWrapper.Framework.CStatusDocument.html#_">_IsCommitted()</a>, 
			<a href="class-MyWrapper.Framework.CStatusDocument.html#_">_IsDirty()</a>, 
			<a href="class-MyWrapper.Framework.CStatusDocument.html#_">_IsEncoded()</a>, 
			<a href="class-MyWrapper.Framework.CStatusDocument.html#_">_IsInited()</a>, 
			<a href="class-MyWrapper.Framework.CStatusDocument.html#_">offsetSet()</a>, 
			<a href="class-MyWrapper.Framework.CStatusDocument.html#_">offsetUnset()</a>
		</code></td>
	</tr>
	</table>
	<table class="summary inherited">
	<caption>Methods inherited from <a href="class-MyWrapper.Framework.CDocument.html#methods">MyWrapper\Framework\CDocument</a></caption>
	<tr>
		<td><code>
			<a href="class-MyWrapper.Framework.CDocument.html#_">array_keys()</a>, 
			<a href="class-MyWrapper.Framework.CDocument.html#_">array_values()</a>, 
			<a href="class-MyWrapper.Framework.CDocument.html#_">offsetGet()</a>
		</code></td>
	</tr>
	</table>
	<table class="summary inherited">
	<caption>Methods inherited from <a href="class-ArrayObject.html#methods">ArrayObject</a></caption>
	<tr>
		<td><code>
			<a href="class-ArrayObject.html#_">append()</a>, 
			<a href="class-ArrayObject.html#_">asort()</a>, 
			<a href="class-ArrayObject.html#_">count()</a>, 
			<a href="class-ArrayObject.html#_">exchangeArray()</a>, 
			<a href="class-ArrayObject.html#_">getArrayCopy()</a>, 
			<a href="class-ArrayObject.html#_">getFlags()</a>, 
			<a href="class-ArrayObject.html#_">getIterator()</a>, 
			<a href="class-ArrayObject.html#_">getIteratorClass()</a>, 
			<a href="class-ArrayObject.html#_">ksort()</a>, 
			<a href="class-ArrayObject.html#_">natcasesort()</a>, 
			<a href="class-ArrayObject.html#_">natsort()</a>, 
			<a href="class-ArrayObject.html#_">offsetExists()</a>, 
			<a href="class-ArrayObject.html#_">serialize()</a>, 
			<a href="class-ArrayObject.html#_">setFlags()</a>, 
			<a href="class-ArrayObject.html#_">setIteratorClass()</a>, 
			<a href="class-ArrayObject.html#_">uasort()</a>, 
			<a href="class-ArrayObject.html#_">uksort()</a>, 
			<a href="class-ArrayObject.html#_">unserialize()</a>
		</code></td>
	</tr>
	</table>




	<table class="summary inherited">
	<caption>Constants inherited from <a href="class-ArrayObject.html#constants">ArrayObject</a></caption>
	<tr>
		<td><code>
			<a href="class-ArrayObject.html#ARRAY_AS_PROPS"><b>ARRAY_AS_PROPS</b></a>, 
			<a href="class-ArrayObject.html#STD_PROP_LIST"><b>STD_PROP_LIST</b></a>
		</code></td>
	</tr>
	</table>


	<table class="summary" id="properties">
	<caption>Properties summary</caption>
	<tr data-order="mContainer" id="$mContainer">

		<td class="attributes"><code>
			protected 
			mixed
		</code></td>

		<td class="name">
				<a href="source-class-MyWrapper.Framework.CContainer.html#63" title="Go to source code"><var>$mContainer</var></a>
		</td>
		<td class="value"><code><span class="php-keyword1">NULL</span></code></td>
		<td class="description"><div>
			<a href="#$mContainer" class="anchor">#</a>

			<div class="description short">
				
<p>Persistent data store.</p>

			</div>

			<div class="description detailed hidden">
				
<p>Persistent data store.</p>

<p>This data member holds the native persistent store.</p>


			</div>
		</div></td>
	</tr>
	</table>

	<table class="summary inherited">
	<caption>Properties inherited from <a href="class-MyWrapper.Framework.CStatusDocument.html#properties">MyWrapper\Framework\CStatusDocument</a></caption>
	<tr>
		<td><code>
			<a href="class-MyWrapper.Framework.CStatusDocument.html#$mStatus"><var>$mStatus</var></a>
		</code></td>
	</tr>
	</table>


</div>

	<div id="footer">
		MyWrapper Reference Documentation API documentation generated by <a href="http://apigen.org">ApiGen 2.7.0</a>
	</div>
</div>
</div>
</body>
</html>
