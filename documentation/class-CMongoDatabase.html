<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="generator" content="ApiGen 2.8.0" />

	<title>Class CMongoDatabase | MyWrapper Reference Documentation</title>

	<script type="text/javascript" src="resources/combined.js?368249000"></script>
	<script type="text/javascript" src="elementlist.js?133380740"></script>
	<link rel="stylesheet" type="text/css" media="all" href="resources/style.css?3505392360" />

</head>

<body>
<div id="left">
	<div id="menu">
		<a href="index.html" title="Overview"><span>Overview</span></a>


		<div id="groups">
			<h3>Packages</h3>
			<ul>
				<li class="active main"><a href="package-MyWrapper.html">MyWrapper<span></span></a>
						<ul>
				<li class="main"><a href="package-MyWrapper.Data.html">Data</a>
						</li>
				<li class="main"><a href="package-MyWrapper.Definitions.html">Definitions</a>
						</li>
				<li class="main"><a href="package-MyWrapper.Framework.html">Framework</a>
						</li>
				<li class="main"><a href="package-MyWrapper.Functions.html">Functions</a>
						</li>
				<li class="main"><a href="package-MyWrapper.Ontology.html">Ontology</a>
						</li>
				<li class="active main"><a href="package-MyWrapper.Persistence.html">Persistence</a>
						</li>
				<li class="main"><a href="package-MyWrapper.Wrappers.html">Wrappers</a>
						</li>
							</ul></li>
				<li><a href="package-PHP.html">PHP</a>
						</li>
			</ul>
		</div>

		<hr />


		<div id="elements">
			<h3>Classes</h3>
			<ul>
				<li><a href="class-CMongoContainer.html">CMongoContainer</a></li>
				<li class="active"><a href="class-CMongoDatabase.html">CMongoDatabase</a></li>
				<li><a href="class-CMongoQuery.html">CMongoQuery</a></li>
				<li><a href="class-CMongoServer.html">CMongoServer</a></li>
				<li><a href="class-CPersistentDocument.html">CPersistentDocument</a></li>
				<li><a href="class-CPersistentObject.html">CPersistentObject</a></li>
			</ul>





		</div>
	</div>
</div>

<div id="splitter"></div>

<div id="right">
<div id="rightInner">
	<form id="search">
		<input type="hidden" name="cx" value="" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text" name="q" class="text" />
		<input type="submit" value="Search" />
	</form>

	<div id="navigation">
		<ul>
			<li>
				<a href="index.html" title="Overview"><span>Overview</span></a>
			</li>
			<li>
				<a href="package-MyWrapper.Persistence.html" title="Summary of MyWrapper\Persistence"><span>Package</span></a>
			</li>
			<li class="active">
<span>Class</span>			</li>
		</ul>
		<ul>
			<li>
				<a href="tree.html" title="Tree view of classes, interfaces, traits and exceptions"><span>Tree</span></a>
			</li>
		</ul>
		<ul>
		</ul>
	</div>

<div id="content" class="class">
	<h1>Class CMongoDatabase</h1>


	<div class="description">
	
<h3>Database object ancestor</h3>

<p>This class implements a database object that represents a MongoDB
instance. This object can be used to generate Mongo container objects.</p>

	</div>

	<dl class="tree">
		<dd style="padding-left:0px">
			<a href="class-ArrayObject.html"><span>ArrayObject</span></a>
			
			 implements 
				<a href="class-IteratorAggregate.html"><span>IteratorAggregate</span></a>, 
			
				<a href="class-Traversable.html"><span>Traversable</span></a>, 
			
				<a href="class-ArrayAccess.html"><span>ArrayAccess</span></a>, 
			
				<a href="class-Serializable.html"><span>Serializable</span></a>, 
			
				<a href="class-Countable.html"><span>Countable</span></a>
			
			
		</dd>
		<dd style="padding-left:30px">
			<img src="resources/inherit.png" alt="Extended by" />
			<a href="class-CDocument.html"><span>CDocument</span></a>
			
			
			
		</dd>
		<dd style="padding-left:60px">
			<img src="resources/inherit.png" alt="Extended by" />
			<a href="class-CStatusDocument.html"><span>CStatusDocument</span></a>
			
			
			
		</dd>
		<dd style="padding-left:90px">
			<img src="resources/inherit.png" alt="Extended by" />
			<a href="class-CConnection.html"><span>CConnection</span></a>
			
			
			
		</dd>
		<dd style="padding-left:120px">
			<img src="resources/inherit.png" alt="Extended by" />
			<a href="class-CDatabase.html"><span>CDatabase</span></a>
			
			
			
		</dd>
		<dd style="padding-left:150px">
			<img src="resources/inherit.png" alt="Extended by" />
<b><span>CMongoDatabase</span></b>			
			
			
		</dd>
	</dl>








	<div class="info">
		
		
		
		<b>Package:</b> <a href="package-MyWrapper.html">MyWrapper</a>\<a href="package-MyWrapper.Persistence.html">Persistence</a><br />

				<b>Author:</b>
				Milko A. Škofič &lt;<a
href="mailto:m.skofic&#64;cgiar.org">m.skofic&#64;<!---->cgiar.org</a>&gt;<br />
		<b>Located at</b> <a href="source-class-CMongoDatabase.html#29-337" title="Go to source code">CMongoDatabase.php</a><br />
	</div>



	<table class="summary" id="methods">
	<caption>Methods summary</caption>
	<tr data-order="__construct" id="___construct">

		<td class="attributes"><code>
			 public 
			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#___construct">#</a>
		<code><a href="source-class-CMongoDatabase.html#54-134" title="Go to source code">__construct</a>( <span>mixed <var>$theConnection</var> = <span class="php-keyword1">NULL</span></span>, <span>mixed <var>$theOptions</var> = <span class="php-keyword1">NULL</span> </span> )</code>

		<div class="description short">
			
<h4>Instantiate class</h4>

		</div>

		<div class="description detailed hidden">
			
<h4>Instantiate class</h4>

<p>The method accepts the same parameters as the MongoDB constructor,
the first one represents the server object, the second represents the database
name, if the latter is missing, the method will raise an exception.</p>

<p>The method will also accept a server object in the first parameter, in that
case the second parameter will be ignored.</p>

<p>The method will first attempt to instantiate the MongoDB object, it
will then store it in the connection data member.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$theConnection</var></dt>
					<dd><code>mixed</code><br>$theConnection Server or database.</dd>
					<dt><var>$theOptions</var></dt>
					<dd><code>mixed</code><br>$theOptions Database name.</dd>
				</dl></div>



				<h4>Uses</h4>
				<div class="list">
						<code><code><a href="class-CMongoDatabase.html#_Connection">CMongoDatabase::Connection()</a></code></code> <br />
				</div>

				<h4>Overrides</h4>
				<div class="list"><code><a href="class-CConnection.html#___construct">CConnection::__construct()</a></code></div>

		</div>
		</div></td>
	</tr>
	<tr data-order="__toString" id="___toString">

		<td class="attributes"><code>
			 public 
			string
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#___toString">#</a>
		<code><a href="source-class-CMongoDatabase.html#141-160" title="Go to source code">__toString</a>( )</code>

		<div class="description short">
			
<h4>Return connection name</h4>

		</div>

		<div class="description detailed hidden">
			
<h4>Return connection name</h4>

<p>In this class the method will return the server's connection URL, which
corresponds to the kOFFSET_NAME offset.</p>




				<h4>Returns</h4>
				<div class="list">
					<code>string</code><br>The connection name.<br />
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="Connection" id="_Connection">

		<td class="attributes"><code>
			 public 
			mixed
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_Connection">#</a>
		<code><a href="source-class-CMongoDatabase.html#176-241" title="Go to source code">Connection</a>( <span>mixed <var>$theValue</var> = <span class="php-keyword1">NULL</span></span>, <span>boolean <var>$getOld</var> = <span class="php-keyword1">FALSE</span> </span> )</code>

		<div class="description short">
			
<h4>Manage native connection</h4>

		</div>

		<div class="description detailed hidden">
			
<h4>Manage native connection</h4>

<p>We overload this method to ensure the provided value is an instance of Mongo, if this is not the case, the method will raise an exception.</p>

<p>The method will attempt to parse the provided server URL and store the
results in the array part of the object. For more information on the parsed
elements consult the PHP parse_url() function.</p>

<p>Although the database name can be obtained from the native connection, we
still store it in the kOFFSET_NAME offset for consistency with other
connection objects.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$theValue</var></dt>
					<dd><code>mixed</code><br>$theValue Native connection or operation.</dd>
					<dt><var>$getOld</var></dt>
					<dd><code>boolean</code><br>$getOld <tt>TRUE</tt> get old value.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>mixed</code><br><i>New</i> or <i>old</i> native connection.<br />
				</div>

				<h4>Throws</h4>
				<div class="list">
					<code><code><a href="class-Exception.html">Exception</a></code></code><br />
				</div>

				<h4>Used by</h4>
				<div class="list">
						<code><code><a href="class-CMongoDatabase.html#___construct">CMongoDatabase::__construct()</a></code></code> <br />
				</div>

				<h4>Overrides</h4>
				<div class="list"><code><a href="class-CConnection.html#_Connection">CConnection::Connection()</a></code></div>

		</div>
		</div></td>
	</tr>
	<tr data-order="Drop" id="_Drop">

		<td class="attributes"><code>
			 public 
			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_Drop">#</a>
		<code><a href="source-class-CMongoDatabase.html#257-272" title="Go to source code">Drop</a>( )</code>

		<div class="description short">
			
<h4>Delete a database</h4>

		</div>

		<div class="description detailed hidden">
			
<h4>Delete a database</h4>

<p>In this class we drop the database.</p>








		</div>
		</div></td>
	</tr>
	<tr data-order="Container" id="_Container">

		<td class="attributes"><code>
			 public 
			mixed
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_Container">#</a>
		<code><a href="source-class-CMongoDatabase.html#279-333" title="Go to source code">Container</a>( <span>string <var>$theContainer</var> = <span class="php-keyword1">NULL</span> </span> )</code>

		<div class="description short">
			
<h4>Generate a container object</h4>

		</div>

		<div class="description detailed hidden">
			
<h4>Generate a container object</h4>

<p>In this class we return <code><a href="class-CMongoContainer.html">CMongoContainer</a></code> instances, the provided
parameter is interpreted as the container name.</p>

<p>If you omit the parameter, the method will raise an exception, in derived
classes you can overload the method to provide a default container name.</p>

<p>If the object does not have its native connection, the method will also raise
an exception.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$theContainer</var></dt>
					<dd><code>string</code><br>$theContainer Container name.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>mixed</code><br>The container object.<br />
				</div>

				<h4>Throws</h4>
				<div class="list">
					<code><code><a href="class-Exception.html">Exception</a></code></code><br />
				</div>

				<h4>Uses</h4>
				<div class="list">
						<code><code><a href="class-CStatusDocument.html#__IsInited">CStatusDocument::_IsInited()</a></code></code> <br />
				</div>


		</div>
		</div></td>
	</tr>
	</table>

	<table class="summary inherited">
	<caption>Methods inherited from <a href="class-CConnection.html#methods">CConnection</a></caption>
	<tr>
		<td><code>
			<a href="class-CConnection.html#__Connection">_Connection()</a>, 
			<a href="class-CConnection.html#__Ready">_Ready()</a>
		</code></td>
	</tr>
	</table>
	<table class="summary inherited">
	<caption>Methods inherited from <a href="class-CStatusDocument.html#methods">CStatusDocument</a></caption>
	<tr>
		<td><code>
			<a href="class-CStatusDocument.html#__IsCommitted">_IsCommitted()</a>, 
			<a href="class-CStatusDocument.html#__IsDirty">_IsDirty()</a>, 
			<a href="class-CStatusDocument.html#__IsEncoded">_IsEncoded()</a>, 
			<a href="class-CStatusDocument.html#__IsInited">_IsInited()</a>, 
			<a href="class-CStatusDocument.html#__Postset">_Postset()</a>, 
			<a href="class-CStatusDocument.html#__Postunset">_Postunset()</a>, 
			<a href="class-CStatusDocument.html#__Preset">_Preset()</a>, 
			<a href="class-CStatusDocument.html#__Preunset">_Preunset()</a>, 
			<a href="class-CStatusDocument.html#_offsetSet">offsetSet()</a>, 
			<a href="class-CStatusDocument.html#_offsetUnset">offsetUnset()</a>
		</code></td>
	</tr>
	</table>
	<table class="summary inherited">
	<caption>Methods inherited from <a href="class-CDocument.html#methods">CDocument</a></caption>
	<tr>
		<td><code>
			<a href="class-CDocument.html#_array_keys">array_keys()</a>, 
			<a href="class-CDocument.html#_array_values">array_values()</a>, 
			<a href="class-CDocument.html#_offsetGet">offsetGet()</a>
		</code></td>
	</tr>
	</table>
	<table class="summary inherited">
	<caption>Methods inherited from <a href="class-ArrayObject.html#methods">ArrayObject</a></caption>
	<tr>
		<td><code>
			<a href="class-ArrayObject.html#_append">append()</a>, 
			<a href="class-ArrayObject.html#_asort">asort()</a>, 
			<a href="class-ArrayObject.html#_count">count()</a>, 
			<a href="class-ArrayObject.html#_exchangeArray">exchangeArray()</a>, 
			<a href="class-ArrayObject.html#_getArrayCopy">getArrayCopy()</a>, 
			<a href="class-ArrayObject.html#_getFlags">getFlags()</a>, 
			<a href="class-ArrayObject.html#_getIterator">getIterator()</a>, 
			<a href="class-ArrayObject.html#_getIteratorClass">getIteratorClass()</a>, 
			<a href="class-ArrayObject.html#_ksort">ksort()</a>, 
			<a href="class-ArrayObject.html#_natcasesort">natcasesort()</a>, 
			<a href="class-ArrayObject.html#_natsort">natsort()</a>, 
			<a href="class-ArrayObject.html#_offsetExists">offsetExists()</a>, 
			<a href="class-ArrayObject.html#_serialize">serialize()</a>, 
			<a href="class-ArrayObject.html#_setFlags">setFlags()</a>, 
			<a href="class-ArrayObject.html#_setIteratorClass">setIteratorClass()</a>, 
			<a href="class-ArrayObject.html#_uasort">uasort()</a>, 
			<a href="class-ArrayObject.html#_uksort">uksort()</a>, 
			<a href="class-ArrayObject.html#_unserialize">unserialize()</a>
		</code></td>
	</tr>
	</table>








	<table class="summary inherited">
	<caption>Constants inherited from <a href="class-ArrayObject.html#constants">ArrayObject</a></caption>
	<tr>
		<td><code>
			<a href="class-ArrayObject.html#ARRAY_AS_PROPS"><b>ARRAY_AS_PROPS</b></a>, 
			<a href="class-ArrayObject.html#STD_PROP_LIST"><b>STD_PROP_LIST</b></a>
		</code></td>
	</tr>
	</table>




	<table class="summary inherited">
	<caption>Properties inherited from <a href="class-CConnection.html#properties">CConnection</a></caption>
	<tr>
		<td><code>
			<a href="class-CConnection.html#$mConnection"><var>$mConnection</var></a>
		</code></td>
	</tr>
	</table>
	<table class="summary inherited">
	<caption>Properties inherited from <a href="class-CStatusDocument.html#properties">CStatusDocument</a></caption>
	<tr>
		<td><code>
			<a href="class-CStatusDocument.html#$mStatus"><var>$mStatus</var></a>
		</code></td>
	</tr>
	</table>





</div>

	<div id="footer">
		MyWrapper Reference Documentation API documentation generated by <a href="http://apigen.org">ApiGen 2.8.0</a>
	</div>
</div>
</div>
</body>
</html>
