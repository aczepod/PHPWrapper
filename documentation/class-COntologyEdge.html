<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="generator" content="ApiGen 2.8.0" />

	<title>Class COntologyEdge | MyWrapper Reference Documentation</title>

	<script type="text/javascript" src="resources/combined.js?3680114562"></script>
	<script type="text/javascript" src="elementlist.js?2244581217"></script>
	<link rel="stylesheet" type="text/css" media="all" href="resources/style.css?3505392360" />

</head>

<body>
<div id="left">
	<div id="menu">
		<a href="index.html" title="Overview"><span>Overview</span></a>


		<div id="groups">
			<h3>Packages</h3>
			<ul>
				<li class="active main"><a href="package-MyWrapper.html">MyWrapper<span></span></a>
						<ul>
				<li class="main"><a href="package-MyWrapper.Data.html">Data</a>
						</li>
				<li class="main"><a href="package-MyWrapper.Definitions.html">Definitions</a>
						</li>
				<li class="main"><a href="package-MyWrapper.Framework.html">Framework</a>
						</li>
				<li class="main"><a href="package-MyWrapper.Functions.html">Functions</a>
						</li>
				<li class="main"><a href="package-MyWrapper.Objects.html">Objects</a>
						</li>
				<li class="active main"><a href="package-MyWrapper.Ontology.html">Ontology</a>
						</li>
				<li class="main"><a href="package-MyWrapper.Persistence.html">Persistence</a>
						</li>
				<li class="main"><a href="package-MyWrapper.Wrappers.html">Wrappers</a>
						</li>
							</ul></li>
				<li><a href="package-PHP.html">PHP</a>
						</li>
			</ul>
		</div>

		<hr />


		<div id="elements">
			<h3>Classes</h3>
			<ul>
				<li><a href="class-COntology.html">COntology</a></li>
				<li><a href="class-COntologyAliasNode.html">COntologyAliasNode</a></li>
				<li><a href="class-COntologyAliasVertex.html">COntologyAliasVertex</a></li>
				<li class="active"><a href="class-COntologyEdge.html">COntologyEdge</a></li>
				<li><a href="class-COntologyMasterNode.html">COntologyMasterNode</a></li>
				<li><a href="class-COntologyMasterVertex.html">COntologyMasterVertex</a></li>
				<li><a href="class-COntologyNode.html">COntologyNode</a></li>
				<li><a href="class-COntologyTag.html">COntologyTag</a></li>
				<li><a href="class-COntologyTerm.html">COntologyTerm</a></li>
				<li><a href="class-COntologyVertex.html">COntologyVertex</a></li>
			</ul>





		</div>
	</div>
</div>

<div id="splitter"></div>

<div id="right">
<div id="rightInner">
	<form id="search">
		<input type="hidden" name="cx" value="" />
		<input type="hidden" name="ie" value="UTF-8" />
		<input type="text" name="q" class="text" />
		<input type="submit" value="Search" />
	</form>

	<div id="navigation">
		<ul>
			<li>
				<a href="index.html" title="Overview"><span>Overview</span></a>
			</li>
			<li>
				<a href="package-MyWrapper.Ontology.html" title="Summary of MyWrapper\Ontology"><span>Package</span></a>
			</li>
			<li class="active">
<span>Class</span>			</li>
		</ul>
		<ul>
			<li>
				<a href="tree.html" title="Tree view of classes, interfaces, traits and exceptions"><span>Tree</span></a>
			</li>
		</ul>
		<ul>
		</ul>
	</div>

<div id="content" class="class">
	<h1>Class COntologyEdge</h1>


	<div class="description">
	
<h4>Ontology edge object ancestor</h4>

<p>This class extends its ancestor, <code><a href="class-CEdge.html">CEdge</a></code>, by asserting the <code><a href="class-CEdge.html#_Subject">CEdge::Subject()</a></code> and <code><a href="class-CEdge.html#_Object">CEdge::Object()</a></code> to be <code><a href="class-COntologyNode.html">COntologyNode</a></code> instance references,
and the <code><a href="class-CEdge.html#_Predicate">CEdge::Predicate()</a></code> to be an <code><a href="class-COntologyTerm.html">COntologyTerm</a></code> instance.</p>

<ul>
	<li><i>Subject vertex</i>: The subject vertex, <tt><code><a href="class-CEdge.html#_Subject">CEdge::Subject()</a></code></tt>, in
	this class is represented by a reference to a <code><a href="class-COntologyNode.html">COntologyNode</a></code> instance,
	constituted by the latter's kTAG_NID.</li>

	<li><i>Relationship predicate</i>: The predicate, <tt><code><a href="class-CEdge.html#_Predicate">CEdge::Predicate()</a></code></tt>,
	in this class is represented by a reference to a <code><a href="class-COntologyTerm.html">COntologyTerm</a></code> instance,
	constituted by the latter's kTAG_NID.</li>

	<li><i>Object vertex</i>: The object vertex, <tt><code><a href="class-CEdge.html#_Object">CEdge::Object()</a></code></tt>, in this
	class is represented by a reference to a <code><a href="class-COntologyNode.html">COntologyNode</a></code> instance,
	constituted by the latter's kTAG_NID.</li>

	<li><i>Global identifier</i>: The global identifier, <tt><code><a href="class-CPersistentObject.html#_GID">CPersistentObject::GID()</a></code></tt> or
	the <tt>kTAG_GID</tt> tag, in this class is generated by concatenating
	the subject node's kTAG_NID, the predicate term's kTAG_GID and
	the object node's kTAG_NID, all separated by the kTOKEN_INDEX_SEPARATOR token.</li>
</ul>

<p>This class overloads the inherited identification workflow, the kTAG_NID attribute is constituted by an integer which is a sequence number
generated by the <code><a href="class-CContainer.html#_NextSequence">CContainer::NextSequence()</a></code> method of a default
container named kCONTAINER_SEQUENCE_NAME with a key kSEQUENCE_KEY_EDGE.</p>

<p>The class also features a unique identifier, kTAG_UID, which receives
the hash of the global identifier, kTAG_GID, this value will be used to
prevent duplicates.</p>

<p>When adding vertices and predicates to the object, these can be provided as
objects and if these objects are not committed, they will be stored before the
current edge object is committed.</p>

<p>The class implements the static method, <code><a href="class-CPersistentDocument.html#_DefaultContainer">CPersistentDocument::DefaultContainer()</a></code>, which,
given a database, will return the default edges container; it will use the
kCONTAINER_EDGE_NAME constant as the container name. Note that when
passing <code><a href="class-CConnection.html">CConnection</a></code> based objects to the persisting methods of this
class, you should provide preferably database instances, since this class may
have to commit nodes and terms.</p>

	</div>

	<dl class="tree">
		<dd style="padding-left:0px">
			<a href="class-ArrayObject.html"><span>ArrayObject</span></a>
			
			 implements 
				<a href="class-IteratorAggregate.html"><span>IteratorAggregate</span></a>, 
			
				<a href="class-Traversable.html"><span>Traversable</span></a>, 
			
				<a href="class-ArrayAccess.html"><span>ArrayAccess</span></a>, 
			
				<a href="class-Serializable.html"><span>Serializable</span></a>, 
			
				<a href="class-Countable.html"><span>Countable</span></a>
			
			
		</dd>
		<dd style="padding-left:30px">
			<img src="resources/inherit.png" alt="Extended by" />
			<a href="class-CDocument.html"><span>CDocument</span></a>
			
			
			
		</dd>
		<dd style="padding-left:60px">
			<img src="resources/inherit.png" alt="Extended by" />
			<a href="class-CStatusDocument.html"><span>CStatusDocument</span></a>
			
			
			
		</dd>
		<dd style="padding-left:90px">
			<img src="resources/inherit.png" alt="Extended by" />
			<a href="class-CPersistentDocument.html"><span>CPersistentDocument</span></a>
			
			
			
		</dd>
		<dd style="padding-left:120px">
			<img src="resources/inherit.png" alt="Extended by" />
			<a href="class-CPersistentObject.html"><span>CPersistentObject</span></a>
			
			
			
		</dd>
		<dd style="padding-left:150px">
			<img src="resources/inherit.png" alt="Extended by" />
			<a href="class-CEdge.html"><span>CEdge</span></a>
			
			
			
		</dd>
		<dd style="padding-left:180px">
			<img src="resources/inherit.png" alt="Extended by" />
<b><span>COntologyEdge</span></b>			
			
			
		</dd>
	</dl>








	<div class="info">
		
		
		
		<b>Package:</b> <a href="package-MyWrapper.html">MyWrapper</a>\<a href="package-MyWrapper.Ontology.html">Ontology</a><br />

				<b>Author:</b>
				Milko A. Škofič &lt;<a
href="mailto:m.skofic&#64;cgiar.org">m.skofic&#64;<!---->cgiar.org</a>&gt;<br />
		<b>Located at</b> <a href="source-class-COntologyEdge.html#43-1501" title="Go to source code">COntologyEdge.php</a><br />
	</div>



	<table class="summary" id="methods">
	<caption>Methods summary</caption>
	<tr data-order="Insert" id="_Insert">

		<td class="attributes"><code>
			 public 
			mixed
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_Insert">#</a>
		<code><a href="source-class-COntologyEdge.html#132-185" title="Go to source code">Insert</a>( <span><code><a href="class-CConnection.html">CConnection</a></code> <var>$theConnection</var></span> )</code>

		<div class="description short">
			
<h4>Insert the object into a container</h4>

		</div>

		<div class="description detailed hidden">
			
<h4>Insert the object into a container</h4>

<p>We overload this method to prevent creating two edges with the same elements.
We first check if there is another edge with the same subject/predicate/object
sequence, in that case we replace the current object attributes with the found
edge; if no other edge shares the same terms, the method will perform as
usual.</p>

<p>If any of the relationship terms cannot be resolved, the method will proceed
as in the parent class.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$theConnection</var></dt>
					<dd><code><code><a href="class-CConnection.html">CConnection</a></code></code><br>$theConnection Server, database or container.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>mixed</code><br>The object's native identifier.<br />
				</div>


				<h4>See</h4>
				<div class="list">
						kFLAG_PERSIST_INSERT<br />
				</div>

				<h4>Overrides</h4>
				<div class="list"><code><a href="class-CPersistentDocument.html#_Insert">CPersistentDocument::Insert()</a></code></div>

		</div>
		</div></td>
	</tr>
	<tr data-order="LoadSubject" id="_LoadSubject">

		<td class="attributes"><code>
			 public 
			<code><a href="class-COntologyNode.html">COntologyNode</a></code>
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_LoadSubject">#</a>
		<code><a href="source-class-COntologyEdge.html#201-270" title="Go to source code">LoadSubject</a>( <span><code><a href="class-CConnection.html">CConnection</a></code> <var>$theConnection</var></span>, <span>boolean <var>$doReload</var> = <span class="php-keyword1">FALSE</span> </span> )</code>

		<div class="description short">
			
<h4>Load subject node object</h4>

		</div>

		<div class="description detailed hidden">
			
<h4>Load subject node object</h4>

<p>This method will return the current subject node object: if the node is not
set, the method will return <tt>NULL</tt>; if the node cannot be found, the
method will raise an exception.</p>

<p>The object will also be loaded in a data member that can function as a
cache.</p>

<p>The method features two parameters: the first refers to the container in
which the node is stored, the second is a boolean flag that determines whether
the object is to be read, or if the cached copy can be used.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$theConnection</var></dt>
					<dd><code><code><a href="class-CConnection.html">CConnection</a></code></code><br>$theConnection Server, database or container.</dd>
					<dt><var>$doReload</var></dt>
					<dd><code>boolean</code><br>$doReload Reload if <tt>TRUE</tt>.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code><code><a href="class-COntologyNode.html">COntologyNode</a></code></code><br>Node object or <tt>NULL</tt>.<br />
				</div>

				<h4>Throws</h4>
				<div class="list">
					<code><code><a href="class-Exception.html">Exception</a></code></code><br>return COntologyNode<br />
				</div>

				<h4>See</h4>
				<div class="list">
						kTAG_SUBJECT<br />
				</div>
				<h4>Uses</h4>
				<div class="list">
						<code><code><a href="class-CPersistentObject.html#_NewObject">CPersistentObject::NewObject()</a></code></code> <br />
				</div>
				<h4>Used by</h4>
				<div class="list">
						<code><code><a href="class-COntologyEdge.html#__index">COntologyEdge::_index()</a></code></code> <br />
						<code><code><a href="class-COntologyEdge.html#__PrecommitRelated">COntologyEdge::_PrecommitRelated()</a></code></code> <br />
				</div>


		</div>
		</div></td>
	</tr>
	<tr data-order="LoadPredicate" id="_LoadPredicate">

		<td class="attributes"><code>
			 public 
			<code><a href="class-COntologyTerm.html">COntologyTerm</a></code>
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_LoadPredicate">#</a>
		<code><a href="source-class-COntologyEdge.html#277-345" title="Go to source code">LoadPredicate</a>( <span><code><a href="class-CConnection.html">CConnection</a></code> <var>$theConnection</var></span>, <span>boolean <var>$doReload</var> = <span class="php-keyword1">FALSE</span> </span> )</code>

		<div class="description short">
			
<h4>Load predicate term object</h4>

		</div>

		<div class="description detailed hidden">
			
<h4>Load predicate term object</h4>

<p>This method will return the current predicate term object: if the term is not
set, the method will return <tt>NULL</tt>; if the term cannot be found, the
method will raise an exception.</p>

<p>The object will also be loaded in a data member that can function as a
cache.</p>

<p>The method features two parameters: the first refers to the container in
which the term is stored, the second is a boolean flag that determines whether
the object is to be read, or if the cached copy can be used.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$theConnection</var></dt>
					<dd><code><code><a href="class-CConnection.html">CConnection</a></code></code><br>$theConnection Server, database or container.</dd>
					<dt><var>$doReload</var></dt>
					<dd><code>boolean</code><br>$doReload Reload if <tt>TRUE</tt>.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code><code><a href="class-COntologyTerm.html">COntologyTerm</a></code></code><br>Term object or <tt>NULL</tt>.<br />
				</div>

				<h4>Throws</h4>
				<div class="list">
					<code><code><a href="class-Exception.html">Exception</a></code></code><br />
				</div>

				<h4>See</h4>
				<div class="list">
						kTAG_PREDICATE<br />
				</div>
				<h4>Uses</h4>
				<div class="list">
						<code><code><a href="class-CPersistentObject.html#_NewObject">CPersistentObject::NewObject()</a></code></code> <br />
				</div>
				<h4>Used by</h4>
				<div class="list">
						<code><code><a href="class-COntologyEdge.html#__index">COntologyEdge::_index()</a></code></code> <br />
						<code><code><a href="class-COntologyEdge.html#__PrecommitRelated">COntologyEdge::_PrecommitRelated()</a></code></code> <br />
				</div>


		</div>
		</div></td>
	</tr>
	<tr data-order="LoadObject" id="_LoadObject">

		<td class="attributes"><code>
			 public 
			<code><a href="class-COntologyNode.html">COntologyNode</a></code>
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_LoadObject">#</a>
		<code><a href="source-class-COntologyEdge.html#352-420" title="Go to source code">LoadObject</a>( <span><code><a href="class-CConnection.html">CConnection</a></code> <var>$theConnection</var></span>, <span>boolean <var>$doReload</var> = <span class="php-keyword1">FALSE</span> </span> )</code>

		<div class="description short">
			
<h4>Load object node object</h4>

		</div>

		<div class="description detailed hidden">
			
<h4>Load object node object</h4>

<p>This method will return the current object node object: if the node is not
set, the method will return <tt>NULL</tt>; if the node cannot be found, the
method will raise an exception.</p>

<p>The object will also be loaded in a data member that can function as a
cache.</p>

<p>The method features two parameters: the first refers to the container in
which the node is stored, the second is a boolean flag that determines whether
the object is to be read, or if the cached copy can be used.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$theConnection</var></dt>
					<dd><code><code><a href="class-CConnection.html">CConnection</a></code></code><br>$theConnection Server, database or container.</dd>
					<dt><var>$doReload</var></dt>
					<dd><code>boolean</code><br>$doReload Reload if <tt>TRUE</tt>.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code><code><a href="class-COntologyNode.html">COntologyNode</a></code></code><br>Node object or <tt>NULL</tt>.<br />
				</div>

				<h4>Throws</h4>
				<div class="list">
					<code><code><a href="class-Exception.html">Exception</a></code></code><br />
				</div>

				<h4>See</h4>
				<div class="list">
						kTAG_OBJECT<br />
				</div>
				<h4>Uses</h4>
				<div class="list">
						<code><code><a href="class-CPersistentObject.html#_NewObject">CPersistentObject::NewObject()</a></code></code> <br />
				</div>
				<h4>Used by</h4>
				<div class="list">
						<code><code><a href="class-COntologyEdge.html#__index">COntologyEdge::_index()</a></code></code> <br />
						<code><code><a href="class-COntologyEdge.html#__PrecommitRelated">COntologyEdge::_PrecommitRelated()</a></code></code> <br />
				</div>


		</div>
		</div></td>
	</tr>
	<tr data-order="DefaultContainerName" id="_DefaultContainerName">

		<td class="attributes"><code>
			 public static
			string
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_DefaultContainerName">#</a>
		<code><a href="source-class-COntologyEdge.html#436-448" title="Go to source code">DefaultContainerName</a>( )</code>

		<div class="description short">
			
<h4>Return the default edges container name</h4>

		</div>

		<div class="description detailed hidden">
			
<h4>Return the default edges container name</h4>

<p>This class uses the kCONTAINER_EDGE_NAME default name.</p>




				<h4>Returns</h4>
				<div class="list">
					<code>string</code><br>The default container name.<br />
				</div>

				<h4>Throws</h4>
				<div class="list">
					<code><code><a href="class-Exception.html">Exception</a></code></code><br />
				</div>

				<h4>See</h4>
				<div class="list">
						kCONTAINER_EDGE_NAME<br />
				</div>

				<h4>Overrides</h4>
				<div class="list"><code><a href="class-CPersistentDocument.html#_DefaultContainerName">CPersistentDocument::DefaultContainerName()</a></code></div>

		</div>
		</div></td>
	</tr>
	<tr data-order="Resolve" id="_Resolve">

		<td class="attributes"><code>
			 public static
			<code><a href="class-COntologyEdge.html">COntologyEdge</a></code>
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_Resolve">#</a>
		<code><a href="source-class-COntologyEdge.html#464-653" title="Go to source code">Resolve</a>( <span><code><a href="class-CConnection.html">CConnection</a></code> <var>$theConnection</var></span>, <span>mixed <var>$theIdentifier</var></span>, <span>boolean <var>$doThrow</var> = <span class="php-keyword1">FALSE</span> </span> )</code>

		<div class="description short">
			
<h4>Resolve an edge</h4>

		</div>

		<div class="description detailed hidden">
			
<h4>Resolve an edge</h4>

<p>This method can be used to retrieve an existing edge by identifier.</p>

<p>The method accepts the following parameters:</p>

<ul>
	<li><tt>$theConnection</tt>: This parameter represents the connection from which
	the nodes container must be resolved. If this parameter cannot be correctly
	determined, the method will raise an exception.</li>

	<li><tt>$theIdentifier</tt>: This parameter represents the edge unique, global,
	native identifier or object, depending on its type:
		<ul>
			<li><tt>integer</tt>: In this case the method assumes that the parameter
			represents the edge identifier: it will attempt to retrieve the edge, if it is
			not found, the method will return <tt>NULL</tt>.</li>

			<li><tt><code><a href="class-COntologyEdge.html">COntologyEdge</a></code></tt>: In this case the method will use the
			provided edge's unique identifier.</li>

			<li><i>other</i>: Any other type will be interpreted either as the edge's unique
			identifier, or as the edges's global identifier: the method will return the
			matching edge or <tt>NULL</tt>.</li>
		</ul>
	</li>

	<li><tt>$doThrow</tt>: If <tt>TRUE</tt>, any failure to resolve the edge will
	raise an exception.</li>
</ul>

<p>The method will return the found edge, <tt>NULL</tt> if not found, or raise
an exception if the last parameter is <tt>TRUE</tt>.</p>

<p><b>Note: do not provide an array containing the object in the identifier
parameter, or you will get unexpected results.</b></p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$theConnection</var></dt>
					<dd><code><code><a href="class-CConnection.html">CConnection</a></code></code><br>$theConnection Server, database or container.</dd>
					<dt><var>$theIdentifier</var></dt>
					<dd><code>mixed</code><br>$theIdentifier Edge reference.</dd>
					<dt><var>$doThrow</var></dt>
					<dd><code>boolean</code><br>$doThrow If <tt>TRUE</tt> raise an exception.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code><code><a href="class-COntologyEdge.html">COntologyEdge</a></code></code><br>Found edge or <tt>NULL</tt>.<br />
				</div>

				<h4>Throws</h4>
				<div class="list">
					<code><code><a href="class-Exception.html">Exception</a></code></code><br />
				</div>



		</div>
		</div></td>
	</tr>
	<tr data-order="_index" id="__index">

		<td class="attributes"><code>
			 protected 
			string|null
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#__index">#</a>
		<code><a href="source-class-COntologyEdge.html#669-735" title="Go to source code">_index</a>( <span><code><a href="class-CConnection.html">CConnection</a></code> <var>$theConnection</var></span>, <span>bitfield <var>$theModifiers</var></span> )</code>

		<div class="description short">
			
<h4>Return the object's global unique identifier</h4>

		</div>

		<div class="description detailed hidden">
			
<h4>Return the object's global unique identifier</h4>

<p>We override the parent method to handle the referenced objects: in this class
the global identifier is the concatenation of the subject native identifier, the
predicate global identifier and the object native identifier all separated by
the kTOKEN_INDEX_SEPARATOR token.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$theConnection</var></dt>
					<dd><code><code><a href="class-CConnection.html">CConnection</a></code></code><br>$theConnection Server, database or container.</dd>
					<dt><var>$theModifiers</var></dt>
					<dd><code>bitfield</code><br>$theModifiers Commit options.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>string|null</code><br>The object's global unique identifier.<br />
				</div>

				<h4>Throws</h4>
				<div class="list">
					<code><code><a href="class-Exception.html">Exception</a></code></code><br />
					<code><code><a href="class-Exception.html">Exception</a></code></code><br />
				</div>

				<h4>See</h4>
				<div class="list">
						kTAG_NID kTAG_GID kTOKEN_INDEX_SEPARATOR<br />
				</div>
				<h4>Uses</h4>
				<div class="list">
						<code><code><a href="class-COntologyEdge.html#_LoadSubject">COntologyEdge::LoadSubject()</a></code></code> <br />
						<code><code><a href="class-COntologyEdge.html#_LoadPredicate">COntologyEdge::LoadPredicate()</a></code></code> <br />
						<code><code><a href="class-COntologyEdge.html#_LoadObject">COntologyEdge::LoadObject()</a></code></code> <br />
				</div>

				<h4>Overrides</h4>
				<div class="list"><code><a href="class-CEdge.html#__index">CEdge::_index()</a></code></div>

		</div>
		</div></td>
	</tr>
	<tr data-order="_Preset" id="__Preset">

		<td class="attributes"><code>
			 protected 
			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#__Preset">#</a>
		<code><a href="source-class-COntologyEdge.html#751-925" title="Go to source code">_Preset</a>( <span>reference <var>&amp; $theOffset</var></span>, <span>reference <var>&amp; $theValue</var></span> )</code>

		<div class="description short">
			
<h4>Handle offset before setting it</h4>

		</div>

		<div class="description detailed hidden">
			
<h4>Handle offset before setting it</h4>

<p>In this class we handle the subject, predicate and object offsets, if
provided as objects we leave them unchanged only if not yet committed, if not,
we convert them to their native identifiers.</p>

<p>We also ensure that the provided objects are instances of the correct classes
by asserting <code><a href="class-CDocument.html">CDocument</a></code> descendants.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$theOffset</var></dt>
					<dd><code>reference</code><br>&amp;$theOffset Offset.</dd>
					<dt><var>$theValue</var></dt>
					<dd><code>reference</code><br>&amp;$theValue Value to set at offset.</dd>
				</dl></div>


				<h4>Throws</h4>
				<div class="list">
					<code><code><a href="class-Exception.html">Exception</a></code></code><br />
				</div>

				<h4>See</h4>
				<div class="list">
						kTAG_PREDICATE kTAG_OBJECT kTAG_SUBJECT<br />
				</div>
				<h4>Uses</h4>
				<div class="list">
						<code><code><a href="class-CStatusDocument.html#__IsCommitted">CStatusDocument::_IsCommitted()</a></code></code> <br />
						<code><code><a href="class-CPersistentObject.html#__AssertClass">CPersistentObject::_AssertClass()</a></code></code> <br />
				</div>

				<h4>Overrides</h4>
				<div class="list"><code><a href="class-CPersistentObject.html#__Preset">CPersistentObject::_Preset()</a></code></div>

		</div>
		</div></td>
	</tr>
	<tr data-order="_Preunset" id="__Preunset">

		<td class="attributes"><code>
			 protected 
			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#__Preunset">#</a>
		<code><a href="source-class-COntologyEdge.html#932-968" title="Go to source code">_Preunset</a>( <span>reference <var>&amp; $theOffset</var></span> )</code>

		<div class="description short">
			
<h4>Handle offset before unsetting it</h4>

		</div>

		<div class="description detailed hidden">
			
<h4>Handle offset before unsetting it</h4>

<p>In this class we prevent the modification of the subject, predicate and
object offsets if the object is committed.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$theOffset</var></dt>
					<dd><code>reference</code><br>&amp;$theOffset Offset.</dd>
				</dl></div>


				<h4>Throws</h4>
				<div class="list">
					<code><code><a href="class-Exception.html">Exception</a></code></code><br />
				</div>

				<h4>See</h4>
				<div class="list">
						kTAG_PREDICATE kTAG_OBJECT kTAG_SUBJECT<br />
				</div>
				<h4>Uses</h4>
				<div class="list">
						<code><code><a href="class-CStatusDocument.html#__IsCommitted">CStatusDocument::_IsCommitted()</a></code></code> <br />
				</div>

				<h4>Overrides</h4>
				<div class="list"><code><a href="class-CEdge.html#__Preunset">CEdge::_Preunset()</a></code></div>

		</div>
		</div></td>
	</tr>
	<tr data-order="_PrecommitRelated" id="__PrecommitRelated">

		<td class="attributes"><code>
			 protected 
			mixed
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#__PrecommitRelated">#</a>
		<code><a href="source-class-COntologyEdge.html#984-1126" title="Go to source code">_PrecommitRelated</a>( <span>reference <var>&amp; $theConnection</var></span>, <span>reference <var>&amp; $theModifiers</var></span> )</code>

		<div class="description short">
			
<h4>Handle embedded or related objects before committing</h4>

		</div>

		<div class="description detailed hidden">
			
<h4>Handle embedded or related objects before committing</h4>

<p>In this class we commit the eventual term provided as an uncommitted object
and replace the offset with the term's native identifier, or load the term if
provided as an identifier.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$theConnection</var></dt>
					<dd><code>reference</code><br>&amp;$theConnection Server, database or container.</dd>
					<dt><var>$theModifiers</var></dt>
					<dd><code>reference</code><br>&amp;$theModifiers Commit options.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>mixed</code><br />
				</div>


				<h4>See</h4>
				<div class="list">
						kTAG_PREDICATE kTAG_OBJECT kTAG_SUBJECT<br />
				</div>
				<h4>Uses</h4>
				<div class="list">
						<code><code><a href="class-COntologyEdge.html#_LoadSubject">COntologyEdge::LoadSubject()</a></code></code> <br />
						<code><code><a href="class-COntologyEdge.html#_LoadPredicate">COntologyEdge::LoadPredicate()</a></code></code> <br />
						<code><code><a href="class-COntologyEdge.html#_LoadObject">COntologyEdge::LoadObject()</a></code></code> <br />
				</div>

				<h4>Overrides</h4>
				<div class="list"><code><a href="class-CPersistentObject.html#__PrecommitRelated">CPersistentObject::_PrecommitRelated()</a></code></div>

		</div>
		</div></td>
	</tr>
	<tr data-order="_PrecommitIdentify" id="__PrecommitIdentify">

		<td class="attributes"><code>
			 protected 
			mixed
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#__PrecommitIdentify">#</a>
		<code><a href="source-class-COntologyEdge.html#1133-1282" title="Go to source code">_PrecommitIdentify</a>( <span>reference <var>&amp; $theConnection</var></span>, <span>reference <var>&amp; $theModifiers</var></span> )</code>

		<div class="description short">
			
<h4>Determine the identifiers before committing</h4>

		</div>

		<div class="description detailed hidden">
			
<h4>Determine the identifiers before committing</h4>

<p>This method will use the result of the <code><a href="class-COntologyEdge.html#__index">COntologyEdge::_index()</a></code> method to set the
global identifier, kTAG_GID; the same value will be hashed and
constitute the unique identifier, kTAG_UID.</p>

<p>This method will also take care of generating the sequence number that
represents the object's native identifier, kTAG_NID, this value can be
generated in two ways:</p>

<ul>
	<li><i>The container has the graph reference, kOFFSET_GRAPH</i>: If the
	provided container contains a reference to a graph container, it means that the
	edge must also be stored in the graph, this will be taken care by the <code><a href="class-COntologyEdge.html#__AddGraphEdge">COntologyEdge::_AddGraphEdge()</a></code> method that will return the graph edge's ID, which in turn will
	become the current object's kTAG_NID.</li>

	<li><i>The container lacks the graph reference, kOFFSET_GRAPH</i>: If
	the provided container does not hold a reference to a graph container, the
	object identifier will be generated with a sequence number tagged kSEQUENCE_KEY_EDGE, this method will set the native identifier, kTAG_NID, with this value.</li>
</ul>

<p>When deleting the object, if the provided container contains a reference to a
graph container, this method will also delete the relative edge from the
graph.</p>

<p>The parent method will then be called, which will ignore the global and
native identifiers, since they will have been set here.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$theConnection</var></dt>
					<dd><code>reference</code><br>&amp;$theConnection Server, database or container.</dd>
					<dt><var>$theModifiers</var></dt>
					<dd><code>reference</code><br>&amp;$theModifiers Commit options.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>mixed</code><br />
				</div>

				<h4>Throws</h4>
				<div class="list">
					<code><code><a href="class-Exception.html">Exception</a></code></code><br />
				</div>

				<h4>See</h4>
				<div class="list">
						kSEQUENCE_KEY_EDGE<br />
						kTAG_NID kTAG_GID kTAG_UID<br />
						kFLAG_PERSIST_INSERT kFLAG_PERSIST_REPLACE<br />
				</div>

				<h4>Overrides</h4>
				<div class="list"><code><a href="class-CPersistentObject.html#__PrecommitIdentify">CPersistentObject::_PrecommitIdentify()</a></code></div>

		</div>
		</div></td>
	</tr>
	<tr data-order="_PostcommitRelated" id="__PostcommitRelated">

		<td class="attributes"><code>
			 protected 
			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#__PostcommitRelated">#</a>
		<code><a href="source-class-COntologyEdge.html#1298-1401" title="Go to source code">_PostcommitRelated</a>( <span>reference <var>&amp; $theConnection</var></span>, <span>reference <var>&amp; $theModifiers</var></span> )</code>

		<div class="description short">
			
<h4>Update related objects after committing</h4>

		</div>

		<div class="description detailed hidden">
			
<h4>Update related objects after committing</h4>

<p>In this class we handle the kTAG_EDGES attribute of the nodes
referenced by this object depending on the value of the kSWITCH_kTAG_EDGES flag we do the following:</p>

<ul>
	<li><tt>0x2</tt>: <i>Keep count of references</i>. This means that the kTAG_EDGES attribute of the subject or object nodes referenced by the current
	object will be incremented when the object is inserted, or decremented when
	deleted.</li>

	<li><tt>0x3</tt>: <i>Keep list of references</i>. This means that a reference to
	the current object will be added to the kTAG_EDGES attribute of the
	referenced subject or object nodes and removed when the object is deleted.</li>

	<li><tt>0x0</tt> <i>or other</i>: <i>Don't handle this information</i>. This
	means that the kTAG_EDGES attribute will not be handled.</li>
</ul>

<p>Note that you should provide either a database connection or the <i>node</i>
container to this method in order to make it work!</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$theConnection</var></dt>
					<dd><code>reference</code><br>&amp;$theConnection Server, database or container.</dd>
					<dt><var>$theModifiers</var></dt>
					<dd><code>reference</code><br>&amp;$theModifiers Commit options.</dd>
				</dl></div>



				<h4>See</h4>
				<div class="list">
						kTAG_EDGES kTAG_SUBJECT kTAG_OBJECT<br />
						kFLAG_PERSIST_INSERT kFLAG_PERSIST_REPLACE kFLAG_PERSIST_DELETE<br />
						kFLAG_PERSIST_MODIFY kFLAG_MODIFY_ADDSET kFLAG_MODIFY_PULL<br />
				</div>
				<h4>Uses</h4>
				<div class="list">
						<code><code><a href="class-CStatusDocument.html#__IsCommitted">CStatusDocument::_IsCommitted()</a></code></code> <br />
						<code><code><a href="class-CPersistentObject.html#__ReferenceInObject">CPersistentObject::_ReferenceInObject()</a></code></code> <br />
				</div>

				<h4>Overrides</h4>
				<div class="list"><code><a href="class-CPersistentDocument.html#__PostcommitRelated">CPersistentDocument::_PostcommitRelated()</a></code></div>

		</div>
		</div></td>
	</tr>
	<tr data-order="_PostcommitCleanup" id="__PostcommitCleanup">

		<td class="attributes"><code>
			 protected 
			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#__PostcommitCleanup">#</a>
		<code><a href="source-class-COntologyEdge.html#1408-1432" title="Go to source code">_PostcommitCleanup</a>( <span>reference <var>&amp; $theConnection</var></span>, <span>reference <var>&amp; $theModifiers</var></span> )</code>

		<div class="description short">
			
<h4>Cleanup the object after committing</h4>

		</div>

		<div class="description detailed hidden">
			
<h4>Cleanup the object after committing</h4>

<p>In this class we reset the term object cache, we set the data members to
<tt>NULL</tt> so that next time one wants to retrieve related objects, the cache
will have to be refreshed.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$theConnection</var></dt>
					<dd><code>reference</code><br>&amp;$theConnection Server, database or container.</dd>
					<dt><var>$theModifiers</var></dt>
					<dd><code>reference</code><br>&amp;$theModifiers Commit options.</dd>
				</dl></div>




				<h4>Overrides</h4>
				<div class="list"><code><a href="class-CPersistentDocument.html#__PostcommitCleanup">CPersistentDocument::_PostcommitCleanup()</a></code></div>

		</div>
		</div></td>
	</tr>
	<tr data-order="_AddGraphEdge" id="__AddGraphEdge">

		<td class="attributes"><code>
			 protected 
			integer
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#__AddGraphEdge">#</a>
		<code><a href="source-class-COntologyEdge.html#1448-1497" title="Go to source code">_AddGraphEdge</a>( <span><code><a href="class-CGraphContainer.html">CGraphContainer</a></code> <var>$theGraph</var></span> )</code>

		<div class="description short">
			
<h4>Create graph edge</h4>

		</div>

		<div class="description detailed hidden">
			
<h4>Create graph edge</h4>

<p>This method will create and save a new graph edge in the provided graph
container and return its newly created identifier.</p>

<p>This method is called by <code><a href="class-COntologyEdge.html#__PrecommitIdentify">COntologyEdge::_PrecommitIdentify()</a></code> to set the new edge
kTAG_NID and the method makes no assumption whether the edge exists
already or not, in all cases it will create a new edge.</p>

<p>This method will set the node identifiers in the kTAG_SUBJECT and
kTAG_OBJECT properties and the predicate term kTAG_GID as the
predicate identifier.</p>

<p>following attributes to the graph edge: kTAG_KIND and kTAG_TYPE, derived classes may override this method to add other
properties.</p>

<p>The method should raise an exception if the node was not created.</p>



				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$theGraph</var></dt>
					<dd><code><code><a href="class-CGraphContainer.html">CGraphContainer</a></code></code><br>$theGraph Graph container.</dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code>integer</code><br>Newly created edge ID.<br />
				</div>




		</div>
		</div></td>
	</tr>
	</table>

	<table class="summary inherited">
	<caption>Methods inherited from <a href="class-CEdge.html#methods">CEdge</a></caption>
	<tr>
		<td><code>
			<a href="class-CEdge.html#_Object">Object()</a>, 
			<a href="class-CEdge.html#_Predicate">Predicate()</a>, 
			<a href="class-CEdge.html#_Subject">Subject()</a>, 
			<a href="class-CEdge.html#__Ready">_Ready()</a>
		</code></td>
	</tr>
	</table>
	<table class="summary inherited">
	<caption>Methods inherited from <a href="class-CPersistentObject.html#methods">CPersistentObject</a></caption>
	<tr>
		<td><code>
			<a href="class-CPersistentObject.html#_CLassName">CLassName()</a>, 
			<a href="class-CPersistentObject.html#_DocumentObject">DocumentObject()</a>, 
			<a href="class-CPersistentObject.html#_GID">GID()</a>, 
			<a href="class-CPersistentObject.html#_NewObject">NewObject()</a>, 
			<a href="class-CPersistentObject.html#__AssertClass">_AssertClass()</a>, 
			<a href="class-CPersistentObject.html#__PrecommitValidate">_PrecommitValidate()</a>, 
			<a href="class-CPersistentObject.html#__ReferenceInObject">_ReferenceInObject()</a>, 
			<a href="class-CPersistentObject.html#___toString">__toString()</a>, 
			<a href="class-CPersistentObject.html#__id">_id()</a>
		</code></td>
	</tr>
	</table>
	<table class="summary inherited">
	<caption>Methods inherited from <a href="class-CPersistentDocument.html#methods">CPersistentDocument</a></caption>
	<tr>
		<td><code>
			<a href="class-CPersistentDocument.html#_DefaultContainer">DefaultContainer()</a>, 
			<a href="class-CPersistentDocument.html#_DefaultDatabase">DefaultDatabase()</a>, 
			<a href="class-CPersistentDocument.html#_DefaultDatabaseName">DefaultDatabaseName()</a>, 
			<a href="class-CPersistentDocument.html#_Delete">Delete()</a>, 
			<a href="class-CPersistentDocument.html#_NID">NID()</a>, 
			<a href="class-CPersistentDocument.html#_Replace">Replace()</a>, 
			<a href="class-CPersistentDocument.html#_ResolveClassContainer">ResolveClassContainer()</a>, 
			<a href="class-CPersistentDocument.html#_ResolveContainer">ResolveContainer()</a>, 
			<a href="class-CPersistentDocument.html#_Restore">Restore()</a>, 
			<a href="class-CPersistentDocument.html#_Update">Update()</a>, 
			<a href="class-CPersistentDocument.html#__Postcommit">_Postcommit()</a>, 
			<a href="class-CPersistentDocument.html#__PostcommitStatus">_PostcommitStatus()</a>, 
			<a href="class-CPersistentDocument.html#__Precommit">_Precommit()</a>
		</code></td>
	</tr>
	</table>
	<table class="summary inherited">
	<caption>Methods inherited from <a href="class-CStatusDocument.html#methods">CStatusDocument</a></caption>
	<tr>
		<td><code>
			<a href="class-CStatusDocument.html#__IsCommitted">_IsCommitted()</a>, 
			<a href="class-CStatusDocument.html#__IsDirty">_IsDirty()</a>, 
			<a href="class-CStatusDocument.html#__IsEncoded">_IsEncoded()</a>, 
			<a href="class-CStatusDocument.html#__IsInited">_IsInited()</a>, 
			<a href="class-CStatusDocument.html#__Postset">_Postset()</a>, 
			<a href="class-CStatusDocument.html#__Postunset">_Postunset()</a>, 
			<a href="class-CStatusDocument.html#___construct">__construct()</a>, 
			<a href="class-CStatusDocument.html#_offsetSet">offsetSet()</a>, 
			<a href="class-CStatusDocument.html#_offsetUnset">offsetUnset()</a>
		</code></td>
	</tr>
	</table>
	<table class="summary inherited">
	<caption>Methods inherited from <a href="class-CDocument.html#methods">CDocument</a></caption>
	<tr>
		<td><code>
			<a href="class-CDocument.html#_array_keys">array_keys()</a>, 
			<a href="class-CDocument.html#_array_values">array_values()</a>, 
			<a href="class-CDocument.html#_offsetGet">offsetGet()</a>
		</code></td>
	</tr>
	</table>
	<table class="summary inherited">
	<caption>Methods inherited from <a href="class-ArrayObject.html#methods">ArrayObject</a></caption>
	<tr>
		<td><code>
			<a href="class-ArrayObject.html#_append">append()</a>, 
			<a href="class-ArrayObject.html#_asort">asort()</a>, 
			<a href="class-ArrayObject.html#_count">count()</a>, 
			<a href="class-ArrayObject.html#_exchangeArray">exchangeArray()</a>, 
			<a href="class-ArrayObject.html#_getArrayCopy">getArrayCopy()</a>, 
			<a href="class-ArrayObject.html#_getFlags">getFlags()</a>, 
			<a href="class-ArrayObject.html#_getIterator">getIterator()</a>, 
			<a href="class-ArrayObject.html#_getIteratorClass">getIteratorClass()</a>, 
			<a href="class-ArrayObject.html#_ksort">ksort()</a>, 
			<a href="class-ArrayObject.html#_natcasesort">natcasesort()</a>, 
			<a href="class-ArrayObject.html#_natsort">natsort()</a>, 
			<a href="class-ArrayObject.html#_offsetExists">offsetExists()</a>, 
			<a href="class-ArrayObject.html#_serialize">serialize()</a>, 
			<a href="class-ArrayObject.html#_setFlags">setFlags()</a>, 
			<a href="class-ArrayObject.html#_setIteratorClass">setIteratorClass()</a>, 
			<a href="class-ArrayObject.html#_uasort">uasort()</a>, 
			<a href="class-ArrayObject.html#_uksort">uksort()</a>, 
			<a href="class-ArrayObject.html#_unserialize">unserialize()</a>
		</code></td>
	</tr>
	</table>








	<table class="summary inherited">
	<caption>Constants inherited from <a href="class-ArrayObject.html#constants">ArrayObject</a></caption>
	<tr>
		<td><code>
			<a href="class-ArrayObject.html#ARRAY_AS_PROPS"><b>ARRAY_AS_PROPS</b></a>, 
			<a href="class-ArrayObject.html#STD_PROP_LIST"><b>STD_PROP_LIST</b></a>
		</code></td>
	</tr>
	</table>



	<table class="summary" id="properties">
	<caption>Properties summary</caption>
	<tr data-order="mSubject" id="$mSubject">
		<td class="attributes"><code>
			protected  
			<code><a href="class-COntologyNode.html">COntologyNode</a></code>
		</code></td>

		<td class="name">
				<a href="source-class-COntologyEdge.html#91-98" title="Go to source code"><var>$mSubject</var></a>
		</td>
		<td class="value"><code><span class="php-keyword1">NULL</span></code></td>
		<td class="description"><div>
			<a href="#$mSubject" class="anchor">#</a>

			<div class="description short">
				
<p><b>Subject node object</b></p>

			</div>

			<div class="description detailed hidden">
				
<p><b>Subject node object</b></p>

<p>This data member holds the subject node object when requested.</p>


			</div>
		</div></td>
	</tr>
	<tr data-order="mPredicate" id="$mPredicate">
		<td class="attributes"><code>
			protected  
			<code><a href="class-COntologyTerm.html">COntologyTerm</a></code>
		</code></td>

		<td class="name">
				<a href="source-class-COntologyEdge.html#100-107" title="Go to source code"><var>$mPredicate</var></a>
		</td>
		<td class="value"><code><span class="php-keyword1">NULL</span></code></td>
		<td class="description"><div>
			<a href="#$mPredicate" class="anchor">#</a>

			<div class="description short">
				
<p><b>Predicate term object</b></p>

			</div>

			<div class="description detailed hidden">
				
<p><b>Predicate term object</b></p>

<p>This data member holds the predicate term object when requested.</p>


			</div>
		</div></td>
	</tr>
	<tr data-order="mObject" id="$mObject">
		<td class="attributes"><code>
			protected  
			<code><a href="class-COntologyNode.html">COntologyNode</a></code>
		</code></td>

		<td class="name">
				<a href="source-class-COntologyEdge.html#109-116" title="Go to source code"><var>$mObject</var></a>
		</td>
		<td class="value"><code><span class="php-keyword1">NULL</span></code></td>
		<td class="description"><div>
			<a href="#$mObject" class="anchor">#</a>

			<div class="description short">
				
<p><b>Object node object</b></p>

			</div>

			<div class="description detailed hidden">
				
<p><b>Object node object</b></p>

<p>This data member holds the object node object when requested.</p>


			</div>
		</div></td>
	</tr>
	</table>

	<table class="summary inherited">
	<caption>Properties inherited from <a href="class-CStatusDocument.html#properties">CStatusDocument</a></caption>
	<tr>
		<td><code>
			<a href="class-CStatusDocument.html#$mStatus"><var>$mStatus</var></a>
		</code></td>
	</tr>
	</table>





</div>

	<div id="footer">
		MyWrapper Reference Documentation API documentation generated by <a href="http://apigen.org">ApiGen 2.8.0</a>
	</div>
</div>
</div>
</body>
</html>
